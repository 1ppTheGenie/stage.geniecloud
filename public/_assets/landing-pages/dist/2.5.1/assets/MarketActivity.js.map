{"version":3,"file":"MarketActivity.js","sources":["../../../../../../genie-components/src/components/ListingsGrid.jsx","../../../../../../genie-components/src/assets/view-grid.svg","../../../../../../genie-components/src/assets/view-list.svg","../../../../../../genie-components/src/embeds/MarketActivity.jsx"],"sourcesContent":["import { address, currency } from \"@/utilities\";\r\nimport { createMemo, For } from \"solid-js\";\r\n\r\nconst bgColors = {\r\n\tactive: \"--active-green\",\r\n\tnew: \"--new-blue\",\r\n\tpending: \"--pending-yellow\",\r\n\tsold: \"--sold-red\",\r\n};\r\n\r\nconst fallbackUrl = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMSIgaGVpZ2h0PSIxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLz4=';\r\n\r\nexport const ListingsGrid = ({ listings, mode }) => {\r\n\tconst fill = createMemo(() => `var(${bgColors[mode().toLowerCase()]})`);\r\n\r\n\treturn (\r\n\t\t<div id=\"listing-grid-view\">\r\n\t\t\t<For each={listings()}>\r\n\t\t\t\t{(l, i) => (\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\tkey={`${l.mlsNumber}:${l.latitude}:${l.longitude}`}\r\n\t\t\t\t\t\tviewBox=\"0 0 100 50\">\r\n\t\t\t\t\t\t<image\r\n\t\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\t\tpreserveAspectRatio=\"xMinYMid slice\"\r\n\t\t\t\t\t\t\thref={l.photoPrimaryUrl}\r\n\t\t\t\t\t\t\tonError={e => {\r\n\t\t\t\t\t\t\t\tif ( e.target.getAttribute( \"href\" ) !== fallbackUrl ) {\r\n\t\t\t\t\t\t\t\t\te.target.setAttribute( \"href\", fallbackUrl );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<circle cx=\"5\" cy=\"5\" r=\"3.5\" fill={fill()} fill-opacity=\"0.6\" />\r\n\r\n\t\t\t\t\t\t<text font-size=\"5\"\r\n\t\t\t\t\t\t\t\tx=\"5\"\r\n\t\t\t\t\t\t\t\ty=\"5\"\r\n\t\t\t\t\t\t\ttext-anchor=\"middle\"\r\n\t\t\t\t\t\t\tdominant-baseline=\"middle\"\r\n\t\t\t\t\t\t\t\tfill=\"#fff\">\r\n\t\t\t\t\t\t\t\t{i() + 1}\r\n\t\t\t\t\t\t</text>\r\n\r\n\t\t\t\t\t\t<polygon\r\n\t\t\t\t\t\t\tpoints=\"275,0 424,0 0,425 0,275\"\r\n\t\t\t\t\t\t\tfill-opacity=\"0.6\"\r\n\t\t\t\t\t\t\tfill={fill()}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t{/*<!-- <text\r\n\t\t\t\t\t\t\tx=\"5%\"\r\n\t\t\t\t\t\t\ty=\"5%\"\r\n\t\t\t\t\t\t\ttransform-origin=\"4% 4%\"\r\n\t\t\t\t\t\t\ttransform=\"rotate(-45)\"\r\n\t\t\t\t\t\t\tfill=\"#fff\"\r\n\t\t\t\t\t\t\ttextAnchor=\"middle\"\r\n\t\t\t\t\t\t\tdominant-baseline=\"middle\">\r\n\t\t\t\t\t\t\t{mode} {/*New! || Active || Sold || Pending* /}\r\n\t\t\t\t\t\t</text>*/}\r\n\r\n\t\t\t\t\t\t<clipPath id=\"polyClip1\" clipPathUnits=\"objectBoundingBox\">\r\n\t\t\t\t\t\t\t<path d=\"m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1\" />\r\n\t\t\t\t\t\t</clipPath>\r\n\t\t\t\t\t\t<rect\r\n\t\t\t\t\t\t\tx=\"50%\"\r\n\t\t\t\t\t\t\twidth=\"50%\"\r\n\t\t\t\t\t\t\theight=\"30%\"\r\n\t\t\t\t\t\t\tclip-path=\"url(#polyClip1)\"\r\n\t\t\t\t\t\t\tfill={fill()}\r\n\t\t\t\t\t\t\tfill-opacity=\"0.6\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\ttext-anchor=\"end\"\r\n\t\t\t\t\t\t\tfont-size=\"5\"\r\n\t\t\t\t\t\t\tx=\"95\"\r\n\t\t\t\t\t\t\ty=\"2\"\r\n\t\t\t\t\t\t\tdominant-baseline=\"hanging\"\r\n\t\t\t\t\t\t\tfill=\"#fff\">\r\n\t\t\t\t\t\t\t{mode == 'Sold' ? 'Sold at' : 'Asking'}\r\n\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\ttext-anchor=\"end\"\r\n\t\t\t\t\t\t\tfont-size=\"7\"\r\n\t\t\t\t\t\t\tx=\"95\"\r\n\t\t\t\t\t\t\ty=\"8\"\r\n\t\t\t\t\t\t\tdominant-baseline=\"hanging\"\r\n\t\t\t\t\t\t\tfill=\"#fff\">\r\n\t\t\t\t\t\t\t{currency(l.priceHigh)}\r\n\r\n\t\t\t\t\t\t</text>\r\n\r\n\t\t\t\t\t\t<g transform=\"translate(0,38)\">\r\n\t\t\t\t\t\t\t<rect\r\n\t\t\t\t\t\t\t\theight=\"12\"\r\n\t\t\t\t\t\t\t\twidth=\"100\"\r\n\t\t\t\t\t\t\t\tfill={`var(${bgColors[mode]})`}\r\n\t\t\t\t\t\t\t\tfill-opacity=\"0.6\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tx=\"50\"\r\n\t\t\t\t\t\t\t\ty=\"4\"\r\n\t\t\t\t\t\t\t\tfill=\"var(--theme-body-background)\"\r\n\t\t\t\t\t\t\t\ttext-anchor=\"middle\"\r\n\t\t\t\t\t\t\t\tdominant-baseline=\"middle\"\r\n\t\t\t\t\t\t\t\tfont-size=\"5\">\r\n\t\t\t\t\t\t\t\t{address(l)}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tx=\"50\"\r\n\t\t\t\t\t\t\t\ty=\"10\"\r\n\t\t\t\t\t\t\t\tfill=\"var(--theme-body-background)\"\r\n\t\t\t\t\t\t\t\ttext-anchor=\"middle\"\r\n\t\t\t\t\t\t\t\tdominant-baseline=\"middle\"\r\n\t\t\t\t\t\t\t\tfont-size=\"4\">\r\n\t\t\t\t\t\t\t\t<tspan>{l.bedrooms}</tspan>\r\n\t\t\t\t\t\t\t\t<tspan>BR | </tspan>\r\n\t\t\t\t\t\t\t\t<tspan>{l.bathroomsTotal}</tspan>\r\n\t\t\t\t\t\t\t\t<tspan>BA | </tspan>\r\n\t\t\t\t\t\t\t\t{Intl.NumberFormat(\"en-US\").format(l.sqft)}\r\n\t\t\t\t\t\t\t\t<tspan font-size=\"3\"> SQFT</tspan>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t)}\r\n\t\t\t</For>\r\n\t\t</div>\r\n\t);\r\n};\r\n","export default (props = {}) => <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\"{...props}><path fill=\"var(--theme-heading-color)\" d=\"M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z\"/></svg>","export default (props = {}) => <svg viewBox=\"0 0 512 512\"{...props}><path fill=\"var(--theme-heading-color)\" d=\"M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z\"/></svg>","import { createSignal, createEffect } from \"solid-js\";\r\n/* prettier-ignore */\r\nimport { HomeTypes, LeafletMap, GeoArea, ListingsTable, ListingsGrid, ListingsShowing, Pagination, CircleMarker } from \"@/components\";\r\n/* prettier-ignore */\r\nimport { areaDataStore, listingsStore, usePagination, filterListings, getCssVar, useSettings, Context4Settings } from \"@/utilities\";\r\n\r\nimport GridView from \"@/assets/view-grid.svg\";\r\nimport ListView from \"@/assets/view-list.svg\";\r\n\r\nimport \"@/assets/css/market-activity.css\";\r\n\r\nexport default () => {\r\n\tconst settings = useSettings(Context4Settings);\r\n\t\r\n\tconst [sortBy, setSortBy] = createSignal( \"Most Recent\" );\r\n\tconst [view, setView] = createSignal(\"List\");\r\n\tconst [currentListings, setCurrentListings] = createSignal([]);\r\n\tconst [visibleListings, setVisibleListings] = createSignal([]);\r\n\tconst [expanded] = createSignal(false);\r\n\t\r\n\tconst { currentPage, setPage, pageOffset, pageSize, setPageSize } = usePagination( 8 );\r\n\t\r\n\tconst [status, setStatus] = createSignal(\r\n\t\tsettings.mode\r\n\t\t\t? settings.mode.charAt(0).toUpperCase() + settings.mode.slice(1)\r\n\t\t\t: \"New\"\r\n\t);\r\n\r\n\tcreateEffect( () => status() && setPage( 1 ) );\r\n\r\n\tcreateEffect(() =>\r\n\t\tsetCurrentListings(\r\n\t\t\tfilterListings(\r\n\t\t\t\tlistingsStore.listings,\r\n\t\t\t\tareaDataStore.propertyTypeID,\r\n\t\t\t\tareaDataStore.areaPeriod,\r\n\t\t\t\tstatus(),\r\n\t\t\t\tsortBy()\r\n\t\t\t)\r\n\t\t)\r\n\t);\r\n\r\n\tcreateEffect(() =>\r\n\t\tsetVisibleListings(\r\n\t\t\tcurrentListings().slice(pageOffset(), pageOffset() + pageSize())\r\n\t\t)\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h4\r\n\t\t\t\tclass=\"center upper subheading-market-activity\"\r\n\t\t\t\tstyle=\"margin-bottom:5px\">\r\n\t\t\t\t{areaDataStore.areaName}{\" \"}\r\n\t\t\t\t{areaDataStore.propertyTypeID === 0 ? \"Homes\" : \"Condos\"}\r\n\t\t\t</h4>\r\n\r\n\t\t\t<h1 class=\"center upper heading-market-activity\" style=\"margin:0\">\r\n\t\t\t\tMarket Activity\r\n\t\t\t</h1>\r\n\r\n\t\t\t<HomeTypes container={`MarketActivity-${settings.areaid}`} style=\"\" />\r\n\r\n\t\t\t<div\r\n\t\t\t\tstyle={`position:relative;width:100%;height:${\r\n\t\t\t\t\texpanded ? \"650px\" : `400px`\r\n\t\t\t\t}`}>\r\n\t\t\t\t<StatusKey setStatus={setStatus} />\r\n\r\n\t\t\t\t<LeafletMap\r\n\t\t\t\t\tmapStyle={settings.mapstyle || \"satellite-streets-v11\"}\r\n\t\t\t\t\tzoomControl={true}\r\n\t\t\t\t\tstyle=\"width:100%;height:100%;\">\r\n\t\t\t\t\t<GeoArea\r\n\t\t\t\t\t\tareaId={settings.areaid}\r\n\t\t\t\t\t\tstyle=\"color:#feff00;fill-opacity:0\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Show when={visibleListings().length}>\r\n\t\t\t\t\t\t{visibleListings().map((l, i) => (\r\n\t\t\t\t\t\t\t<CircleMarker\r\n\t\t\t\t\t\t\t\tcolor={getCssVar(\r\n\t\t\t\t\t\t\t\t\t`--${status().toLowerCase()}`, \r\n\t\t\t\t\t\t\t\t\tdocument.getElementsByClassName(\"genie-wrap marketactivity\")[0]\r\n\t\t\t\t\t\t\t\t).trim()}\r\n\t\t\t\t\t\t\t\tcaption={i + 1}\r\n\t\t\t\t\t\t\t\tkey={i + pageOffset * pageSize}\r\n\t\t\t\t\t\t\t\tposition={[l.latitude, l.longitude]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Show>\r\n\t\t\t\t</LeafletMap>\r\n\t\t\t</div>\r\n\r\n\t\t\t{visibleListings().length > 0 && (\r\n\t\t\t\t<div style=\"display: flex; flex-direction: row; justify-content: space-between; margin: 1vh 0; font-size: 85%; align-items: center; width: 100%\">\r\n\t\t\t\t\t<span>View Option</span>\r\n\r\n\t\t\t\t\t<ListView\r\n\t\t\t\t\t\tstyle=\"width:20px;height:auto\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetPageSize(10);\r\n\t\t\t\t\t\t\tsetView(\"List\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<GridView\r\n\t\t\t\t\t\tstyle=\"width:20px;height:auto\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetPageSize(8);\r\n\t\t\t\t\t\t\tsetView(\"Grid\");\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<span>Status</span>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\tsetStatus(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={status()}\r\n\t\t\t\t\t\tstyle=\"padding:0.25rem 0.5rem\">\r\n\t\t\t\t\t\t{[\"Pending\", \"New\", \"Active\", \"Sold\"].map(key => (\r\n\t\t\t\t\t\t\t<option value={key}  style=\"text-transform:capitalize\">\r\n\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t<span>Sort By</span>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tvalue={sortBy()}\r\n\t\t\t\t\t\tonChange={e => {\r\n\t\t\t\t\t\t\tsetPage(1);\r\n\t\t\t\t\t\t\tsetSortBy(e.target.value);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle=\"padding:0.25rem 0.5rem\">\r\n\t\t\t\t\t\t{[\"Most Recent\", \"Price High\", \"Price Low\", \"Days on Market\"].map(\r\n\t\t\t\t\t\t\tkey => (\r\n\t\t\t\t\t\t\t\t<option value={key} style=\"text-transform:capitalize\">\r\n\t\t\t\t\t\t\t\t\t{key}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<ListingsShowing\r\n\t\t\t\t\t\t\tpageSize={pageSize}\r\n\t\t\t\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\t\t\t\tpageOffset={pageOffset}\r\n\t\t\t\t\t\t\tdata={currentListings}\r\n\t\t\t\t\t\t\tmode={status}\r\n\t\t\t\t\t\t\tperiod={areaDataStore.areaPeriod}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<Show when={view() === \"List\"}>\r\n\t\t\t\t<ListingsTable\r\n\t\t\t\t\tmode={status}\r\n\t\t\t\t\tlistings={visibleListings}\r\n\t\t\t\t\tstyle=\"width: 100%; color: var(--theme-body-color)\"\r\n\t\t\t\t/>\r\n\t\t\t</Show>\r\n\r\n\t\t\t<Show when={view() === \"Grid\"}>\r\n\t\t\t\t<ListingsGrid\r\n\t\t\t\t\tmode={status}\r\n\t\t\t\t\tlistings={visibleListings}\r\n\t\t\t\t\tstyle=\"width: 100%; color: var(--theme-body-color)\"\r\n\t\t\t\t/>\r\n\t\t\t</Show>\r\n\r\n\t\t\t<Pagination\r\n\t\t\t\tdata={currentListings}\r\n\t\t\t\tcurrentPage={currentPage}\r\n\t\t\t\tpageSize={pageSize}\r\n\t\t\t\tpageChange={page => setPage(page)}\r\n\t\t\t\tstyle=\"align-self: flex-end\"\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst StatusKey = ({ setStatus }) => {\r\n\t console.log(\"areaDataStore.overall:\", areaDataStore?.overall?.new,areaDataStore?.overall?.active,areaDataStore?.overall?.pending)\r\n\tconst labels = [\r\n\t\t{\r\n\t\t\ttotal: areaDataStore?.overall?.new,\r\n\t\t\tlabel: \"New (active)\",\r\n\t\t\tstatus: \"new\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotal: areaDataStore?.overall?.active,\r\n\t\t\tlabel: \"Active\",\r\n\t\t\tstatus: \"active\",\r\n\t\t},\r\n\t\t{\r\n\t\t\ttotal: areaDataStore?.overall?.pending,\r\n\t\t\tlabel: \"Pending\",\r\n\t\t\tstatus: \"pending\",\r\n\t\t},\r\n\t\t{ total: areaDataStore.overall?.sold, label: \"Sold\", status: \"sold\" },\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div class=\"map-key\" style=\"position: absolute; z-index: 700; top: 65px\">\r\n\t\t\t<svg style=\"width: 380px; height: 270px\">\r\n\t\t\t\t<rect width=\"100%\" height=\"15%\" fill=\"var(--theme-body-background)\" />\r\n\t\t\t\t<rect\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\theight=\"80%\"\r\n\t\t\t\t\tfill=\"#000\"\r\n\t\t\t\t\tfill-opacity=\"0.57\"\r\n\t\t\t\t\ty=\"15%\"\r\n\t\t\t\t/>\r\n\t\t\t\t<text\r\n\t\t\t\t\tx=\"20\"\r\n\t\t\t\t\ty=\"27\"\r\n\t\t\t\t\tstyle=\"font-size: 150%\"\r\n\t\t\t\t\tfill=\"var(--theme-body-color)\">\r\n\t\t\t\t\t{areaDataStore.areaName}\r\n\t\t\t\t</text>\r\n\t\t\t\t<g style=\"transform: translate(20px, 70px)\">\r\n\t\t\t\t\t{labels.map((l, i) =>{\r\n\t\t\t\t\t\t  console.log(`Label ${i}:`, l.total); // Log each label's total\r\n\r\n\t\t\t\t return (\r\n\t\t\t\t\t\t<g\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tstyle={`transform: translateY(${i * 50}px)`}\r\n\t\t\t\t\t\t\tonClick={e => setStatus(l.status)}>\r\n\t\t\t\t\t\t\t<circle fill={`var(--${l.status})`} cx=\"20\" cy=\"5\" r=\"17\" />\r\n\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\tx=\"20\"\r\n\t\t\t\t\t\t\t\ty=\"5\"\r\n\t\t\t\t\t\t\t\tfill=\"var(--white)\"\r\n\t\t\t\t\t\t\t\ttext-Anchor=\"middle\"\r\n\t\t\t\t\t\t\t\tdominant-Baseline=\"middle\"\r\n\t\t\t\t\t\t\t\tstyle=\"font-size: 100%; text-Shadow: 4px 4px 5px rgba(44, 44, 44, 0.5)\">\r\n\t\t\t\t\t\t\t\t{l.total}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t\t\tx=\"50\"\r\n\t\t\t\t\t\t\t\t\ty=\"7\"\r\n\t\t\t\t\t\t\t\t\tfill=\"var(--white)\"\r\n\t\t\t\t\t\t\t\t\tdominant-Baseline=\"middle\"\r\n\t\t\t\t\t\t\t\t\tstyle=\"font-size: 100%; font-weight: 700; text-Shadow: 4px 4px 5px rgba(44, 44, 44, 0.5)\">\r\n\t\t\t\t\t\t\t\t\t{l.label}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t</g>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</g>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t);\r\n};\r\n"],"names":["bgColors","active","new","pending","sold","fallbackUrl","ListingsGrid","listings","mode","fill","createMemo","toLowerCase","_el$","_tmpl$","_$insert","_$createComponent","For","each","children","l","i","_el$2","_tmpl$2","_el$3","firstChild","_el$4","nextSibling","_el$5","_el$6","_el$7","_el$8","_el$9","_el$10","_el$11","_el$12","_el$13","_el$14","_el$15","_el$16","_el$17","_el$18","_el$19","addEventListener","e","target","getAttribute","setAttribute","currency","priceHigh","address","bedrooms","bathroomsTotal","Intl","NumberFormat","format","sqft","_$effect","_p$","_v$","mlsNumber","latitude","longitude","_v$2","photoPrimaryUrl","_v$3","_v$4","_v$5","_v$6","_$setAttribute","undefined","GridView","props","_$spread","ListView","MarketActivity","settings","useSettings","Context4Settings","sortBy","setSortBy","createSignal","view","setView","currentListings","setCurrentListings","visibleListings","setVisibleListings","expanded","currentPage","setPage","pageOffset","pageSize","setPageSize","usePagination","status","setStatus","charAt","toUpperCase","slice","createEffect","filterListings","listingsStore","areaDataStore","propertyTypeID","areaPeriod","areaName","HomeTypes","container","areaid","style","_tmpl$3","StatusKey","LeafletMap","mapStyle","mapstyle","zoomControl","GeoArea","areaId","_$Show","when","length","map","CircleMarker","color","getCssVar","document","getElementsByClassName","trim","caption","key","position","_$p","_$style","_$memo","_c$","_tmpl$4","onClick","value","_tmpl$5","ListingsShowing","data","period","ListingsTable","Pagination","pageChange","page","console","log","overall","labels","total","label","_tmpl$6","_el$20","_tmpl$7","_el$21","_el$22","_el$23","$$click","_$delegateEvents"],"mappings":"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"}