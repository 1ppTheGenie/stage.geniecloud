import{y as T,t as g,i as a,b as i,S as u}from"./index.js";import{r as f,t as k,_ as H,a as I,C as Y,h as t,q as $,p as N,c as b,n as A}from"./index2.js";import{t as o,f as C,H as O}from"./Pagination.js";import{G as U,C as L,L as q}from"./LeafletMap.js";function F(s,e){f(2,arguments);var r=k(s),l=o(e);return isNaN(l)?new Date(NaN):(l&&r.setDate(r.getDate()+l),r)}function G(s,e){f(2,arguments);var r=k(s),l=o(e);if(isNaN(l))return new Date(NaN);if(!l)return r;var d=r.getDate(),p=new Date(r.getTime());p.setMonth(r.getMonth()+l+1,0);var c=p.getDate();return d>=c?p:(r.setFullYear(p.getFullYear(),p.getMonth(),d),r)}function W(s,e){f(2,arguments);var r=o(e);return F(s,-r)}function j(s,e){f(2,arguments);var r=o(e);return G(s,-r)}function z(s,e){if(f(2,arguments),!e||H(e)!=="object")return new Date(NaN);var r=e.years?o(e.years):0,l=e.months?o(e.months):0,d=e.weeks?o(e.weeks):0,p=e.days?o(e.days):0,c=e.hours?o(e.hours):0,S=e.minutes?o(e.minutes):0,v=e.seconds?o(e.seconds):0,_=j(s,l+r*12),w=W(_,p+d*7),M=S+c*60,n=v+M*60,h=n*1e3,m=new Date(w.getTime()-h);return m}const B=g('<svg fill="green" style="enable-background:new 0 0 512 512" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M128.4 189.3 233.4 89c5.8-6 13.7-9 22.4-9s16.5 3 22.4 9l105.4 100.3c12.5 11.9 12.5 31.3 0 43.2-12.5 11.9-32.7 11.9-45.2 0L288 184.4v217c0 16.9-14.3 30.6-32 30.6s-32-13.7-32-30.6v-217l-50.4 48.2c-12.5 11.9-32.7 11.9-45.2 0-12.5-12-12.5-31.3 0-43.3z">'),V=(s={})=>(()=>{const e=B();return T(e,s,!0,!0),e})();const E=g("<p><span>"),J=g('<div class="snapshot-area"><h3>Average home price of <span></span></h3><p class="large-number"></p><p id="snapshot-delta"><br>'),K=g("<h3>Median home price of <span>"),Q=g('<p class="large-number">'),R=g('<div class="flex-row" style="width:100%;padding:30px 15px 15px;align-items:stretch;"><div class="snapshot-details"><h1 class="upper" style="color:var(--theme-heading-color)"></h1><h2 class="mt-2"><span class="upper">Market Update</span><span class="today-date"></span></h2><p>Take a look at the details below!</p><h3>Highest home price of <span></span></h3></div><div class="snapshot-details map-snapshot">'),re=()=>(I(Y),(()=>{const s=R(),e=s.firstChild,r=e.firstChild,l=r.nextSibling,d=l.firstChild,p=d.nextSibling,c=l.nextSibling,S=c.firstChild,v=c.nextSibling,_=v.firstChild,w=_.nextSibling,M=e.nextSibling;return a(r,()=>(t.areaName||"").trim()+" "+$()),a(p,()=>` as of ${C(new Date,"MMMM d, Y")}`),a(c,i(u,{get when(){return!isNaN(t.percentChange)},get children(){return`The ${t.areaName} area has seen the average sale price of ${$()} ${t.percentChange>0?"increase":"decrease"} by ${N(Math.abs(t.percentChange))} over the last ${t.areaPeriod>1?`${t.areaPeriod} months`:"30 days"} . `}}),S),a(e,i(O,{get container(){return`MarketSnapshot-${t.areaId}`},style:"width:100%"}),v),a(w,$),a(e,i(u,{get when(){return t.propertyStats},get children(){return[(()=>{const n=E(),h=n.firstChild;return a(n,()=>b(t.propertyStats.maxSale.salePrice),h),a(h,()=>`Sold on ${C(new Date(t.propertyStats.maxSale.soldOn),"MMMM d, Y")}`),n})(),i(u,{get when(){return t.propertyStats.avgSalePrice>0},get children(){const n=J(),h=n.firstChild,m=h.firstChild,P=m.nextSibling,x=h.nextSibling,y=x.nextSibling,D=y.firstChild;return a(P,$),a(x,()=>b(t.propertyStats.avgSalePrice)),a(y,i(V,{get style(){return`width:20px;margin-right:0.25rem;vertical-align:middle;${t.percentChange>0?"color:green;":"color:red;transform:rotate(180deg);"}`}}),D),a(y,()=>`${t.percentChange>0?"Up":"down"} ${N(Math.abs(t.percentChange))} since `,D),a(y,()=>`${C(z(new Date,{months:t.areaPeriod}),"MMMM, Y")}`,null),n}}),i(u,{get when(){return t.propertyStats.medSalePrice>0},get children(){return[(()=>{const n=K(),h=n.firstChild,m=h.nextSibling;return a(m,$),n})(),(()=>{const n=Q();return a(n,()=>b(t.propertyStats.medSalePrice)),n})()]}})]}}),null),a(M,i(q,{mapStyle:"streets-v11",cssClasses:"genie-map",id:"market-update-map",get children(){return[i(U,{get areaId(){return t.areaId},style:"color:#feff00;fill-Opacity: 0;"}),i(u,{get when(){return t.propertyStats},get children(){return i(L,{get color(){return A("--sold",document.body).trim()},get caption(){return t.propertyTypeID===0?"HH":"HC"},get position(){return[t.propertyStats.maxSale.latitude,t.propertyStats.maxSale.longitude]}})}})]}})),s})());export{re as default};
//# sourceMappingURL=MarketUpdate.js.map
