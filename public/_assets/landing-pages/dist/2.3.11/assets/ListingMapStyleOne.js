import{i as e,b as n,F as w,s as k,e as v,f as A,g as O,S as P,t as p}from"./index.js";import{a as B,C as H,n as I,o as q,c as y,f as z,i as C,h as N}from"./index2.js";import{f as F,H as R,P as Z}from"./Pagination.js";import{L as E}from"./ListingsShowing.js";import{G,C as U,L as V}from"./LeafletMap.js";const j=p('<div class="flex-row"><div class="w-33"></div><div class="w-66"><div class="listDetail"><table id="listing-table" class="active-table" style=" font-size:80%;"><thead><tr></tr></thead><tbody>'),J=p("<th>"),K=p("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>"),Q=p("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>"),W=d=>{const o=B(H);let _;switch(o.marketstatus){case"sold":_=["Address","BR","BA","Sq.Ft.","List Price","Sold Price","Sold Date","$/Sq.Ft.","DOM"];break;case"active":default:_=["Address","List Price","BR","BA","List Date","Sq.Ft.","$/Sq.Ft.","DOM"];break}return(()=>{const g=j(),u=g.firstChild,D=u.nextSibling,c=D.firstChild,m=c.firstChild,x=m.firstChild,M=x.firstChild,L=x.nextSibling;return e(u,n(V,{get id(){return d.id||"genie-embed-map"},get mapStyle(){return o.mapstyle||"streets-v11"},style:"width: 100%; min-height: 370px",get children(){return[n(G,{get areaId(){return o.areaid},style:" color: #feff00; fill-opacity: 0"}),n(w,{get each(){return d.listings},children:(t,r)=>n(U,{get key(){return`${t.mlsNumber}:${t.latitude}:${t.longitude}`},get color(){return I(`--${o.marketstatus}`,document.body).trim()},caption:r+1,get position(){return[t.latitude,t.longitude]}})})]}})),e(M,()=>_.map((t,r)=>(()=>{const i=J();return k(i,"key",r),k(i,"title",t==="BR"?"Bedrooms":t==="BA"?"Bathrooms":""),e(i,t),v(a=>A(i,r===0?{textAlign:"left"}:null,a)),i})())),e(L,n(P,{get when(){return o.marketstatus==="sold"},get children(){return n(w,{get each(){return d.listings},children:t=>(()=>{const r=K(),i=r.firstChild,a=i.nextSibling,s=a.nextSibling,$=s.nextSibling,f=$.nextSibling,h=f.nextSibling,S=h.nextSibling,l=S.nextSibling,b=l.nextSibling;return e(i,()=>q(t)),e(a,()=>t.bedrooms),e(s,()=>t.bathroomsTotal),e($,()=>Intl.NumberFormat("en-US").format(t.sqft)),e(f,()=>y(t.priceHigh)),e(h,()=>y(t.salePrice)),e(S,(()=>{const T=O(()=>!!t.soldDate);return()=>T()&&F(Date.parse(t.soldDate),"M-d-y")})()),e(l,()=>y(t.salePrice/t.sqft)),e(b,()=>t.daysOnMarket==1?"Day":"Days"),v(()=>k(r,"key",`tr${t.streetNumber}:${t.latitude}:${t.longitude}`)),r})()})}}),null),e(L,n(P,{get when(){return o.marketstatus!=="sold"},get children(){return n(w,{get each(){return d.listings},children:t=>(()=>{const r=Q(),i=r.firstChild,a=i.nextSibling,s=a.nextSibling,$=s.nextSibling,f=$.nextSibling,h=f.nextSibling,S=h.nextSibling,l=S.nextSibling;return e(i,()=>q(t)),e(a,()=>y(t.priceHigh)),e(s,()=>t.bedrooms),e($,()=>t.bathroomsTotal),e(f,()=>F(Date.parse(t.listDate),"M-d-y")),e(h,(()=>{const b=O(()=>t.sqft>0);return()=>b()?Intl.NumberFormat("en-US").format(t.sqft):"-"})()),e(S,(()=>{const b=O(()=>t.sqft>0);return()=>b()?y(t.priceHigh/t.sqft):"-"})()),e(l,()=>t.daysOnMarket>0?t.daysOnMarket+" Days":"Today!"),v(()=>k(r,"key",`tr${t.streetNumber}:${t.latitude}:${t.longitude}`)),r})()})}}),null),v(t=>A(g,d.style,t)),g})()};const X=p('<p class="filterTxt" style="font-size:13px;color:#fff;">'),Y=p('<div id="padded" style="padding:1rem 0;width:100%"><h1>LIVE HOT LIST OF HOMES FOR SALE</h1><p class="current-date">- as of <span>'),st=()=>{const{currentPage:d,setPage:o,pageOffset:_,pageSize:g}=z(),u=B(H),D=()=>C.listings.slice(_(),_()+g()),c=new Date,m="America/Los_Angeles";var x=c.toLocaleString("default",{day:"numeric",timeZone:m}),M=c.toLocaleString("default",{month:"long",timeZone:m}),L=c.toLocaleString("default",{year:"numeric",timeZone:m}),t=c.toLocaleString("default",{hour:"numeric",hour12:!1,timeZone:m}),r=c.toLocaleString("default",{minute:"2-digit",timeZone:m});r.length<2&&(r="0"+r);var i=t>11?"pm":"am",a=M+" "+x+", "+L+" @ "+t+":"+r+i;return(()=>{const s=Y(),$=s.firstChild,f=$.nextSibling,h=f.firstChild,S=h.nextSibling;return e(S,a),e(s,n(R,{get container(){return`ListingMapStyleOne-${u.marketstatus}-${u.areaid}`},get showPeriod(){return u.marketstatus==="sold"}}),null),e(s,n(P,{get when(){return C.listings.length>0},get children(){return[n(W,{id:"listing-map-style-one",get listings(){return D()},style:"margin-top: 30px"}),(()=>{const l=X();return e(l,n(E,{get pageSize(){return g()},get offset(){return g()*d()},get len(){return C.listings.length},get mode(){return u.marketstatus??"active"},get period(){return N.areaPeriod}})),l})(),n(Z,{get totalItems(){return C.listings.length},get currentPage(){return d()},pageChange:l=>o(l)})]}}),null),s})()};export{st as default};
//# sourceMappingURL=ListingMapStyleOne.js.map
