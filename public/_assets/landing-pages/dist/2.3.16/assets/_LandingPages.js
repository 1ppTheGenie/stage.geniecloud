import{d as D,c as b,o as B,a as T,b as g,s as S,F as U,t as u,u as z,i as p,e as M,f as k,g as v,S as $,h as V,j as O,k as G,r as E}from"./index.js";import{M as j,L as F,G as J,a as Y,i as Q,b as W,c as K}from"./LeafletMap.js";import{d as X,c as _,u as Z,a as I,C as x,s as R,b as H,l as ee,e as te}from"./index2.js";import{C as q}from"./Pagination.js";import{S as ae}from"./Spinner.js";const C=u("<button>"),ne=u('<div class="property-images"><div class="property-image"><div class="property-single-image"><div class="close"><svg width="24px" height="24px" viewBox="0 0 24 24" fill="#fff" xmlns="http://www.w3.org/2000/svg"><g data-name="Layer 2"><g data-name="close"><rect width="24" height="24" transform="rotate(180 12 12)" opacity="0"></rect><path d="M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"></path></g></g></svg></div><img loading="lazy" alt="Featured image from the property"><div class="image-overlay-content"><div class="zoom-image">'),re=m=>{const[s,l]=b(0),[c,t]=b(0);B(()=>{t(document.querySelectorAll(".property-images").length)}),T(()=>{const e=document.querySelectorAll(".property-images")[s()].offsetLeft;document.getElementById("property-gallery").style.left=`-${e}px`});const n=e=>{l(a=>Math.min(Math.max(a+e,0),c()-1))};return[g(U,{get each(){return m.images},children:(e,a)=>(()=>{const o=ne(),r=o.firstChild,d=r.firstChild,f=d.firstChild,h=f.nextSibling,y=h.nextSibling;return S(h,"src",e),y.$$click=()=>{document.body.classList.toggle("lightbox"),l(a)},o})()}),(()=>{const e=C();return e.$$click=()=>n(-1),e})(),(()=>{const e=C();return e.$$click=()=>n(1),e})()]};D(["click"]);const oe=u('<div><input type="text">'),le=m=>{let s;return B(()=>{window.gHub.autoComplete(s,m.placeChanged)}),(()=>{const l=oe(),c=l.firstChild,t=s;return typeof t=="function"?z(t,c):s=c,p(l,()=>m.children,null),M(n=>{const e=m.containerStyle,a=m.inputStyle;return n._v$=k(l,e,n._v$),n._v$2=k(c,a,n._v$2),n},{_v$:void 0,_v$2:void 0}),l})()},ie=u('<h2 class="home-value-title no-background">Get your personalized home report'),se=u("<h3>Fill out the fields below and we'll send you your personalized report"),de=u('<div class="home-value-result"><div style="margin:-5vh 5vw;padding-bottom:4vh;z-index:999999;position:relative;"><div class="invert center" style="padding:1vw;border-radius:10px;box-shadow:0px 2px 10px #0003;"><h4 style="font-size:100%">'),ce=u("<h3>Home Value Range Report for"),ue=u('<p class="invert" style="text-align:left;padding:2vw">Sorry, we were not able to locate a home valuation for your property above. Not a problem, we will look into this and get back to you shortly. I look forward to discussing the information with you very soon and to help you get top dollar for your home.'),ge=u(`<div class="invert" style="text-align:left;padding:1vw;margin:2vh 0"><p>Here is the initial valuation we found for your address. This automated valuation is one way to get a general idea, but it is important to realize an algorithm can't provide the accuracy you'll want if you are thinking about selling. Many factors that can't be squeezed into a data field impact your market value, from updates and improvements you have (or have not yet) made, to what's located next door or a block away, to recent, sometimes rapidly changing, market trends. Our role as realtors is to take all of this into consideration. If you are thinking about selling, please call for a real-time, real-world value for your most important investment! Looking forward to helping you get top dollar for your home.`),me=u('<h3 style="margin-bottom:1vh;color:var(--theme-heading-color);">Confirm Home Details'),pe=u('<div class="invert home-value-details">'),fe=u('<div class="home-value-estimate" style="color:var(--theme-heading-color)"><h4>Estimated Value Range:</h4><h5>'),he=u('<p style="text-transform:capitalize">Hi '),we=u("<div><img><h4></h4><h5>"),L=u("<br>"),ye=m=>{const{place:s,property:l,withLeadCapture:c=!0}=m,[t,n]=b(!c);return[ie(),(()=>{const e=de(),a=e.firstChild,o=a.firstChild,r=o.firstChild;return p(e,g(q,{}),a),p(e,g(F,{id:"genie-result-map",style:"width:100%; height:380px",mapStyle:"satellite-streets-v11",get center(){return[s().geometry.location.lat(),s().geometry.location.lng()]},zoom:22,get children(){return g(j,{get position(){return[s().geometry.location.lat(),s().geometry.location.lng()]}})}}),a),p(o,t&&ce(),r),p(r,()=>s().formatted_address),p(a,g($,{get when(){return c&&!t()},get children(){return[se(),g(ke,{setLeadCaptured:n,leadNote:"A new home valuation lead from TheGenie!",get existingData(){return v(()=>!!l())()&&{propertyId:l().propertyID}}})]}}),null),p(a,g($,{get when(){return t()},get children(){return g(ve,{get property(){return l()}})}}),null),e})()]},ve=m=>{const{property:s}=m;return[typeof s>"u"&&(()=>{const l=ue();return l.firstChild,p(l,g(A,{}),null),l})(),typeof s<"u"&&[(()=>{const l=ge(),c=l.firstChild;return c.firstChild,p(l,(()=>{const t=v(()=>!!(s.firstOwnerFirstName&&s.firstOwnerFirstName!==""));return()=>t()&&(()=>{const n=he();return n.firstChild,p(n,()=>s.firstOwnerFirstName.toLowerCase(),null),n})()})(),c),p(c,g(A,{}),null),l})(),me(),(()=>{const l=pe();return p(l,()=>[{value:Intl.NumberFormat("en-US").format(s.sumBuildingSqFt),title:"SQUARE FT"},{value:s.bedrooms,title:"BEDS"},{value:s.bathrooms,title:"FULL BATHS"},{value:s.yearBuilt,title:"BUILT IN"},{value:s.saleDate?X(Date.parse(s.saleDate)):"n/a",title:"PURCHASED"},{value:"Unknown",title:"LAST RENO"}].map((c,t)=>(()=>{const n=we(),e=n.firstChild,a=e.nextSibling,o=a.nextSibling;return S(e,"src",`/_assets/_img/valuation-icon-${t+1}.png`),p(a,()=>c.title),p(o,()=>c.value),M(r=>{const d=c.title,f=`${c.title} icon`;return d!==r._v$&&S(n,"key",r._v$=d),f!==r._v$2&&S(e,"alt",r._v$2=f),r},{_v$:void 0,_v$2:void 0}),n})())),l})(),(()=>{const l=fe(),c=l.firstChild,t=c.nextSibling;return p(t,()=>`${_(s.avmLow)} - ${_(s.avmHigh)}`),l})()]]},A=()=>{const m=Z();return g($,{get when(){return v(()=>!m.loading)()&&m()},get children(){return[L(),L(),"Sincerely,",L(),L(),v(()=>m()?.displayName),L(),v(()=>m()?.phone),L(),v(()=>m()?.email)]}})},be=u('<input type="text" name="firstName" placeholder="Enter your first name">'),$e=u('<input type="text" name="lastName" placeholder="Enter your last name">'),N=u('<input type="text" name="phoneNumber" placeholder="Phone Number">'),P=u('<input type="email" name="emailAddress" placeholder="Email Address">'),Le=u('<textarea placeholder="Is there anything we should know before estimation?" name="message">'),xe=u('<input type="text" name="firstName" placeholder="First Name">'),Se=u('<input type="text" name="lastName" placeholder="Last Name">'),Ie=u('<div class="lead-capture-notify"><p><em>* we keep your email private, no one else gets to see it</em></p><input type="checkbox" id="text-email-updates" value="yes"><label for="text-email-updates">Please notify me of updates - via text or email'),_e=u('<form style="max-width:800px;margin:1vw"><button type="submit"> '),ke=m=>{const{setLeadCaptured:s,formStyle:l="default",submitCaption:c="Send Report",className:t="",leadNote:n=""}=m,[e,a]=b(!1),o=async r=>{r.preventDefault(),a(!0);let d={...m.existingData};const f=new FormData(r.target);for(var h of f.keys())d[h]=f.get(h);await window.gHub.addLead(n,d),a(!1),s(!0)};return(()=>{const r=_e(),d=r.firstChild,f=d.firstChild;return r.addEventListener("submit",h=>o(h)),V(r,`lead-capture-form ${t}`),p(r,g($,{when:l==="valuation",get children(){return[be(),$e(),N(),P(),Le()]}}),d),p(r,g($,{when:l==="default",get children(){return[xe(),Se(),P(),N(),Ie()]}}),d),p(d,c,f),p(d,(()=>{const h=v(()=>!!e());return()=>h()&&g(ae,{})})(),null),r})()};const Ee=u(`<h2 class="home-value-title no-background">Let's find your home`),He=u('<button style="border-radius:20px;border:2px solid black;background-color:black;color:#fff;margin-left:-35px;outline:none;cursor:pointer">'),Ce=u('<div style="min-width:80%">'),Ae=u('<div id="map-place-getter" style="border-radius:20px;width:50vw;min-height:450px;">'),Ne=m=>{const{buttonCaption:s="Get your Value!"}=m,{areaId:l,mapStyle:c,withLeadCapture:t}=I(x),[n,e]=b(!1),[a,o]=b(),[r,d]=b(),[f]=O(r,R);return[g($,{get when(){return n()===!0},get children(){return g(ye,{place:a,property:f,withLeadCapture:!0})}}),g($,{get when(){return n()===!1},get children(){return[Ee(),(()=>{const h=Ae();return p(h,g(q,{}),null),p(h,g(F,{style:"width:100%;height:450px;margin:0;",mapStyle:c||"satellite-streets-v11",zoom:18,get children(){return[g(G,{get children(){return g(J,{areaId:l,fillColor:"var (--theme-color)"})}}),g(Y,{get children(){const y=Ce();return p(y,g(le,{containerStyle:"display:flex;min-width:80%;",inputStyle:"padding:10px 15px; border-radius:20px;border:2px solid black;outline:none;flex-basis:70%;flex-grow:1",placeChanged:w=>{d(w.place_id),o(w)},get children(){const w=He();return w.$$click=()=>e(!0),p(w,s),w}})),y}})]}}),null),h})()]}})]};D(["click"]);const Pe="Viewed Landing Page",qe=()=>{window.gHub.searchAddress=R,window.gHub.lazyLoader=t=>{const n=[].slice.call(document.querySelectorAll(t)),e=new IntersectionObserver(a=>{a.forEach(o=>{if(o.isIntersecting){const r=o.target;r.src=r.dataset.src,r.classList.remove("lazy"),e.unobserve(r)}})});n.forEach(a=>e.observe(a))},window.gHub.currency=t=>_(t),window.gHub.makeMap=async(t,n=null,e=null)=>{await Q();const a=W(typeof t=="string"?document.getElementById(t):t,n);if(e&&e.listings){const o=new window.L.featureGroup;e.listings.forEach(r=>{if(!isNaN(r.lat)&&!isNaN(r.lng)){let f,h,y;const w=r.color||window.gHub.getCssVar(`--${r.state}`,document.body).trim();switch(r.iconType??"circle"){case"flag":h=[55*scale,38*scale],y=[27*scale,38*scale],f=window.gHub.flagURI(w,window.gHub.currency(parseInt(r.state=="sold"?r.salePrice:r.listPrice)));break;case"dot":h=[15,15],y=[9,9],f=window.gHub.circleURI(w,"",8);break;default:h=[34,34],y=[12,12],f=window.gHub.circleURI(w,r.caption||i+1,12)}var d=window.L.icon({iconUrl:f,iconSize:h,iconAnchor:y});window.L.marker([r.lat,r.lng],{icon:d}).addTo(o)}}),o.addTo(a),n.fitMarkers&&Object.keys(o.getBounds()).length>0&&a.fitBounds(o.getBounds(),{padding:[60,60]})}return e&&e.geoJson&&n.fitMarkers&&window.L.geoJSON(e.geoJson,{onEachFeature:(o,r)=>{a.fitBounds(r.getBounds(),{zoom:22}),a.invalidateSize()}}).addTo(a),a},window.gHub.autoComplete=(t,n,e=null)=>{K(()=>{const a=new google.maps.places.Autocomplete(t,{componentRestrictions:{country:"us"},types:["address"]});google.maps.event.addListener(a,"place_changed",()=>n&&n(a.getPlace()))})},window.gHub.spinner=(t,n="")=>{let e="";for(let a=0;a<12;a++)e+=`<g transform="rotate(${a*30} 50 50)"><rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="white"><animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="${-.9166-a*-.08333}s" repeatCount="indefinite"></animate></rect></g>`;return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="${n}"><circle cx="50" cy="50" r="47" fill="${t}"/>${e}</svg>`},window.gHub.getCssVar=(t,n)=>getComputedStyle(n??document.body).getPropertyValue(t),window.gHub.hex2rgba=(t,n=1)=>{const e=t.length===6||t.length===8?/\w\w/g:/\w/g,[a,o,r]=t.match(e).map(d=>parseInt(d,16));return`rgba(${a},${o},${r},${n})`},window.gHub.circleURI=(t,n="",e=12)=>{const a=n===""?"":`<text x="12" y="16" fill="#fff" text-anchor="middle" style="font-family:sans-serif;font-weight:800;font-size:12px">${n}</text>`,o=`
	<svg xmlns="http://www.w3.org/2000/svg" width="${e*2+4}" height="${e*2+4}">
		<defs>
			<filter id="shadow" x="0" y="0" width="${e}" height="${e}">
				<feGaussianBlur in="SourceAlpha" stdDeviation="3"/> 
				<feOffset dx="2" dy="2" result="offsetblur"/>
				<feComponentTransfer>
					<feFuncA type="linear" slope="0.5"/>
				</feComponentTransfer>
				<feMerge> 
					<feMergeNode/> 
					<feMergeNode in="SourceGraphic"/> 
				</feMerge>
			</filter>
		</defs>
		<circle fill="${t}" cx="${e}" cy="${e}" r="${e}" filter="url(#shadow)" />
		${a}
	</svg>`;return"data:image/svg+xml,"+encodeURIComponent(o)},window.gHub.flagURI=(t,n)=>{const e=`
	<svg xmlns="http://www.w3.org/2000/svg" width="11" height="7.5" viewBox="0 0 110 75">
		<defs>
			<filter id="f1" x="0" y="0" width="12" height="12">
			<feGaussianBlur in="SourceAlpha" stdDeviation="5"/> 
			<feOffset dx="2" dy="2" result="offsetblur"/>
			<feComponentTransfer>
			<feFuncA type="linear" slope="0.5"/>
			</feComponentTransfer>
			<feMerge> 
			<feMergeNode/> 
			<feMergeNode in="SourceGraphic"/> 
			</feMerge>
			</filter>
		</defs>
		<path fill="${t}" stroke="#fff" stroke-width="3" filter="url(#f1)" d="M105.333,0.5H5.5c-2.75,0-5,2.25-5,5v38.333c0,2.75,2.25,5,5,5h38.733l10.101,20.834l12.152-20.834h38.848c2.75,0,5-2.25,5-5V5.5C110.333,2.75,108.083,0.5,105.333,0.5z"/>

		<text x="55" y="35" style="font-size:28px;font-weight:bold;font-family:sans-serif" text-anchor="middle" fill="#FFFFFF">${n}</text>
	</svg>`;return"data:image/svg+xml,"+encodeURIComponent(e)},window.gHub.redirectToParentAsset=(t={})=>{const n=`${window.location.origin}${window.location.pathname.replace("/index.html","").split("/").slice(0,-1).join("/")}/index.html`,e=new URLSearchParams(window.location.search);e.delete("lpo"),Object.keys(t).forEach(a=>e.append(a,t[a])),window.location.href=`${n}?${e.toString()}`},window.gHub.randomPriceString=(t=2000001,n=2e5)=>Math.floor(Math.random()*(t-n)+n).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",").replace(/1/g,"I").replace(/2/g,"A").replace(/3/g,"E").replace(/4/g,"H").replace(/5/g,"S").replace(/7/g,"I").replace(/8/g,"B").replace(/9/g,"G"),document.addEventListener("trigger-update-lead",async t=>{const n=I(x);(n.leadId||n.genieLeadId||window.gHub.leadId)&&await H({genieLeadId:n.leadId||n.genieLeadId||window.gHub.leadId,...t.detail})}),window.gHub.getLandingPageData=async()=>{const t=Object.fromEntries(new URLSearchParams(window.location.search));return t.agentId=window.gHub.agentId,t.hideAVM=window.gHub.hideAVM??!1,await ee(t)},window.gHub.addLead=async(t,n=null)=>{const e=I(x);window.gHub.defaults=window.gHub.defaults||{};let a={agentId:e.agentId,areaId:e.leadareaId||e.areaId,propertyId:e.propertyId??window.gHub.defaults.leadPropertyId??new URLSearchParams(window.location.search).get("propertyId")??new URLSearchParams(window.location.search).get("propertyID"),firstName:e.firstname??null,lastName:e.lastname??null,fullName:window.gHub.defaults.fullName??null,emailAddress:e.emailaddress??null,note:t,...n};if(e.leadId||e.genieLeadId||window.gHub.leadId)t!==Pe&&(a.genieLeadId=e.leadId||e.genieLeadId||window.gHub.leadId,a.email=a.emailAddress,await H(a));else{a.referringUrl=`${window.location.origin}${window.location.pathname}?referral=true`,a.referringUrl+=a.propertyId?`&propertyId=${a.propertyID}`:"",a.referringUrl+=e.mlsNumber?`&mlsNumber=${e.mlsNumber}`:"",a.referringUrl+=e.mlsId?`&mlsId=${e.mlsId}`:"",e.trackingdata&&(a.trackingData=Object.keys(e.trackingdata).reduce((r,d)=>(r[d.toLowerCase().replace("utm","utm_")]=e.trackingdata[d],r),{})),window.gHub.defaults.notePrompt&&window.gHub.defaults.notePrompt!==""&&(a.note=`${window.gHub.defaults.notePrompt}: ${a.note}`),a.trackingData={...window.gHub.defaults.trackingData,...a.trackingData??{}},(typeof a.trackingData.utmSource>"u"||a.trackingData.utmSource==="url")&&(a.trackingData.utmSource=window.location.href);const o=await te(a);return o.result?.key&&(window.gHub.leadId=o.result.key),o.result}};const m=Object.fromEntries(window.location.search.substring(1).split("&").map(t=>t.split("=")).map(([t,n])=>[t.toLowerCase(),n]));if(parseInt(m.crlead)===1){const t=m.propertyid;t&&window.gHub.addLead(null,{propertyId:t})}else m.token&&(async()=>await window.gHub.getLandingPageData())();document.querySelectorAll(".request-home-value").forEach(t=>{t.addEventListener("click",n=>{if(n.preventDefault(),!document.getElementById("genie-homeValuePopup")){const e=I(x);document.body.classList.add("hasPopup");const a=document.createElement("div");a.id="genie-homeValuePopup",a.classList.add("popup-dialog","visible"),document.body.appendChild(a),E(()=>g(x.Provider,{value:e,get children(){return g(Ne,{})}}),document.getElementById("genie-homeValuePopup"))}})}),document.querySelectorAll(".toggle").forEach(t=>{const n=document.querySelector(t.dataset.container);n&&(n.classList.add("toggle-container"),t.addEventListener("click",e=>{if(e.preventDefault(),n.classList.contains("active"))n.style.height="0px",n.addEventListener("transitionend",()=>n.classList.remove("active"),{once:!0});else{n.classList.add("active"),n.style.height="auto";const a=n.clientHeight+"px";n.style.height="0px",setTimeout(()=>n.style.height=a,0)}}))}),document.querySelectorAll("[data-scroll-to]").forEach(t=>t.addEventListener("click",n=>{n.preventDefault();const e=document.querySelector(t.getAttribute("data-scroll-to"));if(e){const a=e.getBoundingClientRect().top;window.scrollTo({top:a+window.pageYOffset-80,behavior:"smooth"})}})),document.querySelectorAll(".funnel-create-lead").forEach(t=>t.addEventListener("submit",n=>{n.preventDefault(),(async()=>{const e=document.getElementById(t.dataset["thank-you"]||"form-thank-you");if(e){const r=()=>{e.classList.remove("visible"),document.getElementById("fl-thankyou-modal").classList.remove("hide"),e.querySelector(".close-popup").removeEventListener("click",r);const d=document.querySelector(".modal.in");d.classList.remove("in"),d.style.display="none",document.getElementById("backdrop").style.display="none"};e.classList.add("visible"),document.getElementById("fl-thankyou-modal").classList.add("hide"),e.querySelector(".close-popup").addEventListener("click",r)}let a={};new FormData(n.target).forEach((r,d)=>a[d]=r);const o=await window.gHub.addLead(null,a);document.dispatchEvent(new CustomEvent("genie-lead-created",{detail:o}))})()}));const s="data-genie-tags",l="data-download-url";if(document.querySelectorAll(`[${l}]`).forEach(t=>{t.addEventListener("click",n=>{n.preventDefault();const e=()=>{const o=document.createElement("a");o.href=t.getAttribute(l),o.target="_blank",o.download=t.getAttribute(l),o.click()},a=document.getElementById("download-report");if(a&&window.gHub.isLeadCapture){const o=()=>{a.classList.remove("visible"),a.querySelector(".close-popup").removeEventListener("click",o),a.querySelector("#download-report-submit").removeEventListener("click",r)},r=d=>{d.preventDefault();const f=document.getElementById("popup-email").value;f?(window.gHub.addLead("Report download",{emailAddress:f,genieTags:t.getAttribute(s)}),e(),o()):document.getElementById("popup-valid-email").style.display="block"};a.classList.add("visible"),a.querySelector(".close-popup").addEventListener("click",o),a.querySelector("#download-report-submit").addEventListener("click",r)}else e()})}),document.querySelectorAll(`[${s}]`).forEach(t=>{t.hasAttribute(l)||t.addEventListener("click",()=>{window.gHub.addLead("Event Trigger",{genieTags:t.getAttribute(s)})})}),document.querySelectorAll(".genie-alternate:nth-child(odd)").forEach(t=>t.classList.add(window.gHub.alternateShade&&window.gHub.alternateShade!==""?window.gHub.alternateShade:"dark")),window.requestAnimationFrame(()=>window.gHub.lazyLoader("img.lazy")),window.gHub.galleryButton=(t,n)=>{let e=1;const a=["Show Fewer","Show More"];t.addEventListener("click",o=>o.target.innerText=a[e^=1])},typeof window.gHub.galleryImages<"u"){const t=document.getElementById("property-gallery");t&&E(()=>g(re,{get images(){return window.gHub.galleryImages}}),t)}const c=document.querySelector(".timed-popup");return c&&(setTimeout(()=>{c.style.display="block"},3e4),c.querySelectorAll("[data-dismiss='modal']").forEach(t=>t.addEventListener("click",()=>c.style.display="none"),!0)),document.dispatchEvent(new Event("genie-landing-loaded"),!0),null};export{qe as default};
//# sourceMappingURL=_LandingPages.js.map
