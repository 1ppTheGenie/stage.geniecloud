import{i as e,e as N,s as m,t as v,y as E,c as B,b as g,g as H,f as U,d as j}from"./index.js";import{H as F,L as Y,P as q}from"./Pagination.js";import{o as K,a as Q,C as J,f as W,k as X,h as $,i as Z,n as ee}from"./index2.js";import{G as te,L as ie,C as ne}from"./LeafletMap.js";import{L as le}from"./ListingsShowing.js";const ae=v('<div id="listing-grid-view">'),re=v(`<svg viewBox="0 0 1500 800"><image width="100%" height="100%" preserveAspectRatio="xMinYMid slice"></image><circle cx="5%" cy="5%" r="5%" fillOpacity="0.75"></circle><text font-size="120%"><tspan x="5%" y="4%" textAnchor="middle" fill="var(--theme-body-background)"></tspan></text><polygon points="275,0 424,0 0,425 0,275" fillOpacity="0.75"></polygon><text x="5%" y="5%" transform-origin="4% 4%" transform="rotate(-45)" fill="var(--theme-body-background)" textAnchor="middle">New! || Active || Sold || Pending</text><clipPath id="polyClip1" clipPathUnits="objectBoundingBox"><path d="m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1"></path></clipPath><rect x="50%" width="40%" height="30%" clip-path="url(#polyClip1)" fillOpacity="0.75"></rect><text class="align-right" x="22%" y="1%" fill="var(--theme-body-background)">Asking</text><text class="align-right" x="22%" y="4%" fill="var(--theme-body-background)">format-number(@listPrice, '$###,###')"</text><rect y="85%" height="15%" width="100%" fillOpacity="0.75"></rect><text x="11.25%" y="23.75%" fill="var(--theme-body-background)" textAnchor="middle"></text><text x="11.25%" y="26.75%" fill="var(--theme-body-background)" textAnchor="middle"><tspan></tspan><tspan>BR | </tspan><tspan></tspan><tspan>BA | </tspan><tspan>SQFT`),se=({listings:n,mode:i,style:P})=>{i=i.toLowerCase();const p={active:"--active-green",new:"--new-blue",pending:"--pending-yellow",sold:"--sold-red"};return(()=>{const _=ae();return e(_,()=>n.map((r,x)=>(()=>{const h=re(),s=h.firstChild,y=s.nextSibling,a=y.nextSibling,b=a.firstChild,S=a.nextSibling,f=S.nextSibling,l=f.nextSibling,k=l.nextSibling,t=k.nextSibling,o=t.nextSibling,w=o.nextSibling,z=w.nextSibling,C=z.nextSibling,A=C.firstChild,L=A.nextSibling,M=L.nextSibling,d=M.nextSibling,u=d.nextSibling;return e(b,x+1),e(z,()=>K(r)),e(A,()=>r.bedrooms),e(M,()=>r.bathroomsTotal),e(C,()=>Intl.NumberFormat("en-US").format(r.sqft),u),N(c=>{const O=`${r.mlsNumber}:${r.latitude}:${r.longitude}`,G=`/thumbnail?url=${r.photoPrimaryUrl}`,T=`var(${p[i]})`,V=`var(${p[i]})`,I=`var(${p[i]})`,R=`var(${p[i]})`;return O!==c._v$&&m(h,"key",c._v$=O),G!==c._v$2&&m(s,"href",c._v$2=G),T!==c._v$3&&m(y,"fill",c._v$3=T),V!==c._v$4&&m(S,"fill",c._v$4=V),I!==c._v$5&&m(k,"fill",c._v$5=I),R!==c._v$6&&m(w,"fill",c._v$6=R),c},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),h})())),_})()},oe=v('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="var(--theme-heading-color)" d="M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z">'),ce=(n={})=>(()=>{const i=oe();return E(i,n,!0,!0),i})(),de=v('<svg viewBox="0 0 512 512"><path fill="var(--theme-heading-color)" d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">'),ge=(n={})=>(()=>{const i=de();return E(i,n,!0,!0),i})(),ve=v('<h4 class="center upper" style="margin-bottom:0.5rem"> '),he=v('<h1 class="center upper" style="margin:0.5rem 0">Market Activity'),me=v("<div>"),pe=v('<div style="display:flex;flex-direction:row;justify-content:space-between;margin:0;font-size:85%;align-items:center;width:100%"><span>View Option</span><span>Status</span><select style="padding:0.25rem 0.5rem"></select><span>Sort By</span><select style="padding:0.25rem 0.5rem"></select><span>'),D=v('<option style="text-transform:capitalize">'),ue=v('<div class="map-key" style="position:absolute;z-index:700;top:65px"><svg style="width:250px;height:270px"><rect width="100%" height="15%" fill="var(--theme-body-background)"></rect><rect width="100%" height="80%" fill="#000" fillOpacity="0.4" y="15%"></rect><text x="20" y="10" style="font-size:150%" fill="var(--theme-body-color)" dominantBaseline="hanging"></text><g style="transform:translate(20px, 70px)">'),$e=v('<svg><g><circle cx="20" cy="5" r="20"></circle><text x="20" y="7" fill="var(--theme-body-background)" textAnchor="middle" dominantBaseline="middle" style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></text><text x="50" y="7" fill="var(--theme-body-background)" dominantBaseline="middle" style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></svg>',!1,!0),we=()=>{const n=Q(J),[i,P]=B("Most Recent"),[p,_]=B("List"),{currentPage:r,setPage:x,pageOffset:h,pageSize:s,setPageSize:y}=W({}),[a,b]=B(n.mode?n.mode.charAt(0).toUpperCase()+n.mode.slice(1):""),[S]=B(!1),f=X(Z.listings,$.propertyTypeID,$.areaPeriod,a(),i()),l=f&&f.slice(h,h+s),k=ee(`--${a().toLowerCase()}`,document.body).trim();return[(()=>{const t=ve(),o=t.firstChild;return e(t,()=>$.areaName,o),e(t,()=>$.propertyTypeID===0?"Homes":"Condos",null),t})(),he(),g(F,{get container(){return`MarketActivity-${n.areaid}`},style:"margin:0.5rem"}),(()=>{const t=me();return e(t,g(xe,{setStatus:b}),null),e(t,g(ie,{get mapStyle(){return n.mapstyle||"satellite-streets-v11"},zoomControl:!0,style:"width:100%;height:100%;",get children(){return[g(te,{get areaId(){return n.areaid},style:"color:#feff00;fill-opacity:0"}),H(()=>l&&l.map((o,w)=>g(ne,{color:k,caption:h*s+w+1,key:w+h*s,get position(){return[o.latitude,o.longitude]}})))]}}),null),N(o=>U(t,`position:relative;width:100%;height:${S?"650px":"400px"}`,o)),t})(),H((()=>{const t=H(()=>!!(l&&l.length>0));return()=>t()&&(()=>{const o=pe(),w=o.firstChild,z=w.nextSibling,C=z.nextSibling,A=C.nextSibling,L=A.nextSibling,M=L.nextSibling;return e(o,g(ge,{style:"width:20px;height:auto",onClick:()=>{y(10),_("List")}}),z),e(o,g(ce,{style:"width:20px;height:auto",onClick:()=>{y(8),_("Grid")}}),z),C.addEventListener("change",d=>{x(1),b(d.target.value)}),C.value=a,e(C,()=>["Pending","New","Active","Sold"].map(d=>(()=>{const u=D();return m(u,"key",d),e(u,d),u})())),L.addEventListener("change",d=>{x(1),P(d.target.value)}),L.value=i,e(L,()=>["Most Recent","Price High","Price Low","Days on Market"].map(d=>(()=>{const u=D();return m(u,"key",d),e(u,d),u})())),e(M,g(le,{pageSize:s,get ffset(){return Math.max((r()-1)*s(),0)},get len(){return f.length},get mode(){return n.mode},period})),o})()})()),p==="List"&&g(Y,{mode:a,listings:l,style:"width: 100%; color: var(--theme-body-color)"}),p==="Grid"&&g(se,{mode:a,listings:l,style:"width: 100%; color: var(--theme-body-color)"}),g(q,{get totalItems(){return f?.length},get currentPage(){return r()},pageChange:t=>x(t),style:"align-self: flex-end"})]},xe=({setStatus:n})=>{const i=[{total:$?.overall?.new,label:"New (active)",status:"new"},{total:$?.overall?.active,label:"Active",status:"active"},{total:$?.overall?.pending,label:"Pending",status:"pending"},{total:$.overall?.sold,label:"Sold",status:"sold"}];return(()=>{const P=ue(),p=P.firstChild,_=p.firstChild,r=_.nextSibling,x=r.nextSibling,h=x.nextSibling;return e(x,()=>$.areaName),e(h,()=>i.map((s,y)=>(()=>{const a=$e(),b=a.firstChild,S=b.nextSibling,f=S.nextSibling;return a.$$click=l=>n(s.status),m(a,"key",y),e(S,()=>s.total),e(f,()=>s.label),N(l=>{const k=`transform: translateY(${y*50}px)`,t=`var(--${s.status})`;return l._v$=U(a,k,l._v$),t!==l._v$2&&m(b,"fill",l._v$2=t),l},{_v$:void 0,_v$2:void 0}),a})())),P})()};j(["click"]);export{we as default};
//# sourceMappingURL=MarketActivity.js.map
