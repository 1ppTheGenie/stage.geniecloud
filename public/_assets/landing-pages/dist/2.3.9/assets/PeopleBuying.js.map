{"version":3,"file":"PeopleBuying.js","sources":["../../../../../../genie-components/src/embeds/PeopleBuying.jsx"],"sourcesContent":["import { Index } from \"solid-js\";\r\nimport { areaDataStore, propertyTypeCaption, currency } from \"@/utilities\";\r\nimport { HomeTypes, Editable, Spinner } from \"@/components\";\r\n\r\nimport \"@/assets/css/people-buying.css\";\r\n\r\nvar link = document.createElement(\"link\");\r\nlink.rel = \"stylesheet\";\r\nlink.type = \"text/css\";\r\nlink.href = \"https://cdn.rawgit.com/tiaanduplessis/wenk/master/dist/wenk.css\";\r\ndocument.head.appendChild(link);\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Editable id=\"people-buying-heading\">\r\n\t\t\t\t<h1>Look at What People are&#160;Buying</h1>\r\n\t\t\t</Editable>\r\n\r\n\t\t\t<p style=\"margin: 0 2rem\" class=\"subtitle-font\">\r\n\t\t\t\t{`${areaDataStore.areaName} has seen a lot of movement of \\n`}\r\n\t\t\t\t<br />\r\n\t\t\t\t{`${\r\n\t\t\t\t\tareaDataStore.topSize.beds > 0\r\n\t\t\t\t\t\t? areaDataStore.topSize.beds + \" bedroom\"\r\n\t\t\t\t\t\t: \"studio\"\r\n\t\t\t\t}  ${propertyTypeCaption()} in the past ${\r\n\t\t\t\t\tareaDataStore.areaPeriod\r\n\t\t\t\t} months.`}\r\n\t\t\t</p>\r\n\r\n\t\t\t<HomeTypes container={`PeopleBuying-${areaDataStore.areaid}`} />\r\n\r\n\t\t\t{!areaDataStore.bedroomStats && <p>Sorry, there is no data for this period.</p>}\r\n\r\n\t\t\t<div id=\"colors\" class=\"horizontal-bars\">\r\n\t\t\t\t<Index each={areaDataStore.bedroomStats}>\r\n\t\t\t\t\t{(size, i) => {\r\n\t\t\t\t\t\t// Only bedroom counts up to 5?\r\n\t\t\t\t\t\tif (i > 5) return null;\r\n\r\n\t\t\t\t\t\t// Don't show Studio if none sold\r\n\t\t\t\t\t\tif (size().beds === 0 && size().sold === 0) return null;\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span class=\"graph-number\">\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds < 1}>Studio</Match>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds > 0 && size().beds < 5}>{`${\r\n\t\t\t\t\t\t\t\t\t\t\tsize().beds\r\n\t\t\t\t\t\t\t\t\t\t} br`}</Match>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds === 5}>5+ br</Match>\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{size().sold === 0 && <span>None sold</span>}\r\n\t\t\t\t\t\t\t\t\t{size().sold > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={`cursor:pointer; font-weight:bold;--size:${\r\n\t\t\t\t\t\t\t\t\t\t\t\t((!areaDataStore.loading ? size().sold : 0) /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tareaDataStore.topSize.sold) *\r\n\t\t\t\t\t\t\t\t\t\t\t\t100\r\n\t\t\t\t\t\t\t\t\t\t\t}%;textTransform:capitalize;color:#fff;`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-wenk={`Avg: ${currency(size().avgSalePrice)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-wenk-pos=\"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!areaDataStore.loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${size().sold} ${propertyTypeCaption(size().sold == 1)} sold`\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin: 0; width: 16px; transform: scale(2.5)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"var(--theme-body-color)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t</Index>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n"],"names":["link","document","createElement","rel","type","href","head","appendChild","PeopleBuying","_$createComponent","Editable","id","children","_tmpl$","_el$2","_tmpl$2","_el$3","firstChild","_$insert","areaDataStore","areaName","topSize","beds","propertyTypeCaption","areaPeriod","HomeTypes","container","areaid","_$memo","_c$","bedroomStats","_tmpl$4","_el$4","_tmpl$3","Index","each","size","i","sold","_el$6","_tmpl$5","_el$7","_el$8","nextSibling","_$Switch","_$Match","when","_c$2","_tmpl$6","_c$3","_el$10","_tmpl$7","_el$11","_c$4","loading","Spinner","style","fill","_$effect","_p$","_v$","_v$2","currency","avgSalePrice","_$style","_$setAttribute","undefined"],"mappings":"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"}