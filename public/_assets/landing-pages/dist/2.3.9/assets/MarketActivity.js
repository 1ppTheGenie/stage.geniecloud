import{i as e,e as N,s as m,t as p,y as E,c as B,b as v,g as H,f as U,d as j}from"./index.js";import{H as F,L as Y,P as q}from"./Pagination.js";import{o as K,a as Q,C as J,f as W,i as X,k as $,g as Z,n as ee}from"./index2.js";import{G as te,L as ie,C as ne}from"./LeafletMap.js";import{L as le}from"./ListingsShowing.js";const ae=p('<div id="listing-grid-view">'),se=p(`<svg viewBox="0 0 1500 800"><image width="100%" height="100%" preserveAspectRatio="xMinYMid slice"></image><circle cx="5%" cy="5%" r="5%" fillOpacity="0.75"></circle><text font-size="120%"><tspan x="5%" y="4%" textAnchor="middle" fill="var(--theme-body-background)"></tspan></text><polygon points="275,0 424,0 0,425 0,275" fillOpacity="0.75"></polygon><text x="5%" y="5%" transform-origin="4% 4%" transform="rotate(-45)" fill="var(--theme-body-background)" textAnchor="middle">New! || Active || Sold || Pending</text><clipPath id="polyClip1" clipPathUnits="objectBoundingBox"><path d="m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1"></path></clipPath><rect x="50%" width="40%" height="30%" clip-path="url(#polyClip1)" fillOpacity="0.75"></rect><text class="align-right" x="22%" y="1%" fill="var(--theme-body-background)">Asking</text><text class="align-right" x="22%" y="4%" fill="var(--theme-body-background)">format-number(@listPrice, '$###,###')"</text><rect y="85%" height="15%" width="100%" fillOpacity="0.75"></rect><text x="11.25%" y="23.75%" fill="var(--theme-body-background)" textAnchor="middle"></text><text x="11.25%" y="26.75%" fill="var(--theme-body-background)" textAnchor="middle"><tspan></tspan><tspan>BR | </tspan><tspan></tspan><tspan>BA | </tspan><tspan>SQFT`),re=({listings:n,mode:i,style:P})=>{i=i.toLowerCase();const h={active:"--active-green",new:"--new-blue",pending:"--pending-yellow",sold:"--sold-red"};return(()=>{const _=ae();return e(_,()=>n.map((o,x)=>(()=>{const d=se(),c=d.firstChild,y=c.nextSibling,a=y.nextSibling,b=a.firstChild,S=a.nextSibling,f=S.nextSibling,l=f.nextSibling,k=l.nextSibling,t=k.nextSibling,s=t.nextSibling,w=s.nextSibling,z=w.nextSibling,C=z.nextSibling,A=C.firstChild,L=A.nextSibling,M=L.nextSibling,g=M.nextSibling,u=g.nextSibling;return e(b,x+1),e(z,()=>K(o)),e(A,()=>o.bedrooms),e(M,()=>o.bathroomsTotal),e(C,()=>Intl.NumberFormat("en-US").format(o.sqft),u),N(r=>{const O=`${o.mlsNumber}:${o.latitude}:${o.longitude}`,G=`/thumbnail?url=${o.photoPrimaryUrl}`,T=`var(${h[i]})`,V=`var(${h[i]})`,I=`var(${h[i]})`,R=`var(${h[i]})`;return O!==r._v$&&m(d,"key",r._v$=O),G!==r._v$2&&m(c,"href",r._v$2=G),T!==r._v$3&&m(y,"fill",r._v$3=T),V!==r._v$4&&m(S,"fill",r._v$4=V),I!==r._v$5&&m(k,"fill",r._v$5=I),R!==r._v$6&&m(w,"fill",r._v$6=R),r},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0}),d})())),_})()},oe=p('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="var(--theme-heading-color)" d="M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z">'),ce=(n={})=>(()=>{const i=oe();return E(i,n,!0,!0),i})(),de=p('<svg viewBox="0 0 512 512"><path fill="var(--theme-heading-color)" d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">'),ge=(n={})=>(()=>{const i=de();return E(i,n,!0,!0),i})(),ve=p('<h4 class="center upper" style="margin-bottom:0.5rem"> '),pe=p('<h1 class="center upper" style="margin:0.5rem 0">Market Activity'),me=p("<div>"),he=p('<div style="display:flex;flex-direction:row;justify-content:space-between;margin:0;font-size:85%;align-items:center;width:100%"><span>View Option</span><span>Status</span><select style="padding:0.25rem 0.5rem"></select><span>Sort By</span><select style="padding:0.25rem 0.5rem"></select><span>'),D=p('<option style="text-transform:capitalize">'),ue=p('<div class="map-key" style="position:absolute;z-index:700;top:65px"><svg style="width:250px;height:270px"><rect width="100%" height="15%" fill="var(--theme-body-background)"></rect><rect width="100%" height="80%" fill="#000" fillOpacity="0.4" y="15%"></rect><text x="20" y="10" style="font-size:150%" fill="var(--theme-body-color)" dominantBaseline="hanging"></text><g style="transform:translate(20px, 70px)">'),$e=p('<svg><g><circle cx="20" cy="5" r="20"></circle><text x="20" y="7" fill="var(--theme-body-background)" textAnchor="middle" dominantBaseline="middle" style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></text><text x="50" y="7" fill="var(--theme-body-background)" dominantBaseline="middle" style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></svg>',!1,!0),we=()=>{const n=Q(J),[i,P]=B("Most Recent"),[h,_]=B("List"),{currentPage:o,setPage:x,pageOffset:d,pageSize:c,setPageSize:y}=W({}),[a,b]=B(n.mode?n.mode.charAt(0).toUpperCase()+n.mode.slice(1):""),[S]=B(!1),f=X(Z.listings,$.propertyTypeID,$.areaPeriod,a),l=f&&f.slice(d,d+c),k=ee(`--${a().toLowerCase()}`,document.body).trim();return[(()=>{const t=ve(),s=t.firstChild;return e(t,()=>$.areaName,s),e(t,()=>$.propertyTypeID===0?"Homes":"Condos",null),t})(),pe(),v(F,{get container(){return`MarketActivity-${n.areaid}`},style:"margin:0.5rem"}),(()=>{const t=me();return e(t,v(xe,{setStatus:b}),null),e(t,v(ie,{get mapStyle(){return n.mapstyle||"satellite-streets-v11"},zoomControl:!0,style:"width:100%;height:100%;",get children(){return[v(te,{get areaId(){return n.areaid},style:"color:#feff00;fill-opacity:0"}),H(()=>l&&l.map((s,w)=>v(ne,{color:k,caption:d*c+w+1,key:w+d*c,get position(){return[s.latitude,s.longitude]}})))]}}),null),N(s=>U(t,`position:relative;width:100%;height:${S?"650px":"400px"}`,s)),t})(),H((()=>{const t=H(()=>!!(l&&l.length>0));return()=>t()&&(()=>{const s=he(),w=s.firstChild,z=w.nextSibling,C=z.nextSibling,A=C.nextSibling,L=A.nextSibling,M=L.nextSibling;return e(s,v(ge,{style:"width:20px;height:auto",onClick:()=>{y(10),_("List")}}),z),e(s,v(ce,{style:"width:20px;height:auto",onClick:()=>{y(8),_("Grid")}}),z),C.addEventListener("change",g=>{x(1),b(g.target.value)}),C.value=a,e(C,()=>["Pending","New","Active","Sold"].map(g=>(()=>{const u=D();return m(u,"key",g),e(u,g),u})())),L.addEventListener("change",g=>{x(1),P(g.target.value)}),L.value=i,e(L,()=>["Most Recent","Price High","Price Low","Days on Market"].map(g=>(()=>{const u=D();return m(u,"key",g),e(u,g),u})())),e(M,v(le,{pageSize:c,offset:d,get len(){return f.length},get mode(){return n.mode},period})),s})()})()),h==="List"&&v(Y,{mode:a,listings:l,style:"width: 100%; color: var(--theme-body-color)"}),h==="Grid"&&v(re,{mode:a,listings:l,style:"width: 100%; color: var(--theme-body-color)"}),v(q,{get totalItems(){return f?.length},currentPage:o,pageChange:t=>x(t),style:"align-self: flex-end"})]},xe=({setStatus:n})=>{const i=[{total:$?.overall?.new,label:"New (active)",status:"new"},{total:$?.overall?.active,label:"Active",status:"active"},{total:$?.overall?.pending,label:"Pending",status:"pending"},{total:$.overall?.sold,label:"Sold",status:"sold"}];return(()=>{const P=ue(),h=P.firstChild,_=h.firstChild,o=_.nextSibling,x=o.nextSibling,d=x.nextSibling;return e(x,()=>$.areaName),e(d,()=>i.map((c,y)=>(()=>{const a=$e(),b=a.firstChild,S=b.nextSibling,f=S.nextSibling;return a.$$click=l=>n(c.status),m(a,"key",y),e(S,()=>c.total),e(f,()=>c.label),N(l=>{const k=`transform: translateY(${y*50}px)`,t=`var(--${c.status})`;return l._v$=U(a,k,l._v$),t!==l._v$2&&m(b,"fill",l._v$2=t),l},{_v$:void 0,_v$2:void 0}),a})())),P})()};j(["click"]);export{we as default};
//# sourceMappingURL=MarketActivity.js.map
