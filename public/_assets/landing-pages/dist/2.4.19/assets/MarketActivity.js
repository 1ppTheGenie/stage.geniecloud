import{i as t,e as H,s as p,t as g,y as D,c as A,b as d,m as B,f as E,d as j}from"./index.js";import{H as F,b as Y,P as q}from"./_LeadCtaTag.js";import{w as K,a as Q,C as J,k as W,r as X,n as y,o as Z,v as ee}from"./index2.js";import{G as te,L as ie,C as le}from"./LeafletMap.js";import{L as ae}from"./ListingsShowing.js";var re=g("<div id=listing-grid-view>"),ne=g(`<svg viewBox="0 0 1500 800"><image width=100% height=100% preserveAspectRatio="xMinYMid slice"></image><circle cx=5% cy=5% r=5% fillOpacity=0.75></circle><text font-size=120%><tspan x=5% y=4% textAnchor=middle fill=var(--theme-body-background)></tspan></text><polygon points="275,0 424,0 0,425 0,275"fillOpacity=0.75></polygon><text x=5% y=5% transform-origin="4% 4%"transform=rotate(-45) fill=var(--theme-body-background) textAnchor=middle>New! || Active || Sold || Pending</text><clipPath id=polyClip1 clipPathUnits=objectBoundingBox><path d="m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1"></path></clipPath><rect x=50% width=40% height=30% clip-path=url(#polyClip1) fillOpacity=0.75></rect><text class=align-right x=22% y=1% fill=var(--theme-body-background)>Asking</text><text class=align-right x=22% y=4% fill=var(--theme-body-background)>format-number(@listPrice, '$###,###')"</text><rect y=85% height=15% width=100% fillOpacity=0.75></rect><text x=11.25% y=23.75% fill=var(--theme-body-background) textAnchor=middle></text><text x=11.25% y=26.75% fill=var(--theme-body-background) textAnchor=middle><tspan></tspan><tspan>BR | </tspan><tspan></tspan><tspan>BA | </tspan><tspan>SQFT`);const se=({listings:l,mode:i,style:L})=>{i=i.toLowerCase();const m={active:"--active-green",new:"--new-blue",pending:"--pending-yellow",sold:"--sold-red"};return(()=>{var _=re();return t(_,()=>l.map((n,f)=>(()=>{var v=ne(),s=v.firstChild,b=s.nextSibling,r=b.nextSibling,w=r.firstChild,S=r.nextSibling,$=S.nextSibling,a=$.nextSibling,z=a.nextSibling,e=z.nextSibling,h=e.nextSibling,x=h.nextSibling,C=x.nextSibling,P=C.nextSibling,k=P.firstChild,M=k.nextSibling,c=M.nextSibling,u=c.nextSibling,U=u.nextSibling;return t(w,f+1),t(C,()=>K(n)),t(k,()=>n.bedrooms),t(c,()=>n.bathroomsTotal),t(P,()=>Intl.NumberFormat("en-US").format(n.sqft),U),H(o=>{var N=`${n.mlsNumber}:${n.latitude}:${n.longitude}`,G=`/thumbnail?url=${n.photoPrimaryUrl}`,O=`var(${m[i]})`,T=`var(${m[i]})`,V=`var(${m[i]})`,I=`var(${m[i]})`;return N!==o.e&&p(v,"key",o.e=N),G!==o.t&&p(s,"href",o.t=G),O!==o.a&&p(b,"fill",o.a=O),T!==o.o&&p(S,"fill",o.o=T),V!==o.i&&p(z,"fill",o.i=V),I!==o.n&&p(x,"fill",o.n=I),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v})())),_})()};var oe=g('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512"><path fill=var(--theme-heading-color) d="M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z">');const ce=(l={})=>(()=>{var i=oe();return D(i,l,!0,!0),i})();var de=g('<svg viewBox="0 0 512 512"><path fill=var(--theme-heading-color) d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">');const ge=(l={})=>(()=>{var i=de();return D(i,l,!0,!0),i})();var ve=g('<h4 class="center upper subheading-market-activity"style=margin-bottom:5px> '),he=g('<h1 class="center upper heading-market-activity"style=margin:0>Market Activity'),pe=g("<div>"),me=g('<div style=display:flex;flex-direction:row;justify-content:space-between;margin:0;font-size:85%;align-items:center;width:100%><span>View Option</span><span>Status</span><select style="padding:0.25rem 0.5rem"></select><span>Sort By</span><select style="padding:0.25rem 0.5rem"></select><span>'),R=g("<option style=text-transform:capitalize>"),xe=g('<div class=map-key style=position:absolute;z-index:700;top:65px><svg style=width:380px;height:270px><rect width=100% height=15% fill=var(--theme-body-background)></rect><rect width=100% height=80% fill=#000 fill-opacity=0.57 y=15%></rect><text x=20 y=27 style=font-size:150% fill=var(--theme-body-color) dominantBaseline=hanging></text><g style="transform:translate(20px, 70px)">'),ue=g('<svg><g><circle cx=20 cy=5 r=17></circle><text x=20 y=5 fill=var(--white) text-Anchor=middle dominant-Baseline=middle style="font-size:100%;text-Shadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></text><text x=50 y=7 fill=var(--white) dominant-Baseline=middle style="font-size:100%;font-weight:700;text-Shadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></svg>',!1,!0,!1);const Se=()=>{const l=Q(J),[i,L]=A("Most Recent"),[m,_]=A("List"),{currentPage:n,setPage:f,pageOffset:v,pageSize:s,setPageSize:b}=W({}),[r,w]=A(l.mode?l.mode.charAt(0).toUpperCase()+l.mode.slice(1):""),[S]=A(!1),$=X(Z.listings,y.propertyTypeID,y.areaPeriod,r(),i()),a=$&&$.slice(v,v+s),z=ee(`--${r().toLowerCase()}`,document.body).trim();return[(()=>{var e=ve(),h=e.firstChild;return t(e,()=>y.areaName,h),t(e,()=>y.propertyTypeID===0?"Homes":"Condos",null),e})(),he(),d(F,{get container(){return`MarketActivity-${l.areaid}`},style:""}),(()=>{var e=pe();return t(e,d(ye,{setStatus:w}),null),t(e,d(ie,{get mapStyle(){return l.mapstyle||"satellite-streets-v11"},zoomControl:!0,style:"width:100%;height:100%;",get children(){return[d(te,{get areaId(){return l.areaid},style:"color:#feff00;fill-opacity:0"}),B(()=>a&&a.map((h,x)=>d(le,{color:z,caption:v*s+x+1,key:x+v*s,get position(){return[h.latitude,h.longitude]}})))]}}),null),H(h=>E(e,`position:relative;width:100%;height:${S?"650px":"400px"}`,h)),e})(),B(()=>B(()=>!!(a&&a.length>0))()&&(()=>{var e=me(),h=e.firstChild,x=h.nextSibling,C=x.nextSibling,P=C.nextSibling,k=P.nextSibling,M=k.nextSibling;return t(e,d(ge,{style:"width:20px;height:auto",onClick:()=>{b(10),_("List")}}),x),t(e,d(ce,{style:"width:20px;height:auto",onClick:()=>{b(8),_("Grid")}}),x),C.addEventListener("change",c=>{f(1),w(c.target.value)}),C.value=r,t(C,()=>["Pending","New","Active","Sold"].map(c=>(()=>{var u=R();return p(u,"key",c),t(u,c),u})())),k.addEventListener("change",c=>{f(1),L(c.target.value)}),k.value=i,t(k,()=>["Most Recent","Price High","Price Low","Days on Market"].map(c=>(()=>{var u=R();return p(u,"key",c),t(u,c),u})())),t(M,d(ae,{pageSize:s,get ffset(){return Math.max((n()-1)*s(),0)},get len(){return $.length},get mode(){return l.mode},period})),e})()),m==="List"&&d(Y,{mode:r,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),m==="Grid"&&d(se,{mode:r,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),d(q,{get totalItems(){return $?.length},get currentPage(){return n()},pageChange:e=>f(e),style:"align-self: flex-end"})]},ye=({setStatus:l})=>{const i=[{total:y?.overall?.new,label:"New (active)",status:"new"},{total:y?.overall?.active,label:"Active",status:"active"},{total:y?.overall?.pending,label:"Pending",status:"pending"},{total:y.overall?.sold,label:"Sold",status:"sold"}];return(()=>{var L=xe(),m=L.firstChild,_=m.firstChild,n=_.nextSibling,f=n.nextSibling,v=f.nextSibling;return t(f,()=>y.areaName),t(v,()=>i.map((s,b)=>(()=>{var r=ue(),w=r.firstChild,S=w.nextSibling,$=S.nextSibling;return r.$$click=a=>l(s.status),p(r,"key",b),t(S,()=>s.total),t($,()=>s.label),H(a=>{var z=`transform: translateY(${b*50}px)`,e=`var(--${s.status})`;return a.e=E(r,z,a.e),e!==a.t&&p(w,"fill",a.t=e),a},{e:void 0,t:void 0}),r})())),L})()};j(["click"]);export{Se as default};
//# sourceMappingURL=MarketActivity.js.map
