import{i as t,e as H,s as m,t as v,y as R,c as A,b as d,m as B,f as E,d as j}from"./index.js";import{H as F,b as Y,P as q}from"./_LeadCtaTag.js";import{w as K,a as Q,C as J,k as W,r as X,n as g,o as Z,v as ee}from"./index2.js";import{G as te,L as ie,C as le}from"./LeafletMap.js";import{L as ae}from"./ListingsShowing.js";var re=v("<div id=listing-grid-view>"),ne=v(`<svg viewBox="0 0 1500 800"><image width=100% height=100% preserveAspectRatio="xMinYMid slice"></image><circle cx=5% cy=5% r=5% fillOpacity=0.75></circle><text font-size=120%><tspan x=5% y=4% textAnchor=middle fill=var(--theme-body-background)></tspan></text><polygon points="275,0 424,0 0,425 0,275"fillOpacity=0.75></polygon><text x=5% y=5% transform-origin="4% 4%"transform=rotate(-45) fill=var(--theme-body-background) textAnchor=middle>New! || Active || Sold || Pending</text><clipPath id=polyClip1 clipPathUnits=objectBoundingBox><path d="m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1"></path></clipPath><rect x=50% width=40% height=30% clip-path=url(#polyClip1) fillOpacity=0.75></rect><text class=align-right x=22% y=1% fill=var(--theme-body-background)>Asking</text><text class=align-right x=22% y=4% fill=var(--theme-body-background)>format-number(@listPrice, '$###,###')"</text><rect y=85% height=15% width=100% fillOpacity=0.75></rect><text x=11.25% y=23.75% fill=var(--theme-body-background) textAnchor=middle></text><text x=11.25% y=26.75% fill=var(--theme-body-background) textAnchor=middle><tspan></tspan><tspan>BR | </tspan><tspan></tspan><tspan>BA | </tspan><tspan>SQFT`);const se=({listings:l,mode:i,style:L})=>{i=i.toLowerCase();const x={active:"--active-green",new:"--new-blue",pending:"--pending-yellow",sold:"--sold-red"};return(()=>{var w=re();return t(w,()=>l.map((s,b)=>(()=>{var h=ne(),r=h.firstChild,u=r.nextSibling,n=u.nextSibling,S=n.firstChild,_=n.nextSibling,$=_.nextSibling,a=$.nextSibling,z=a.nextSibling,e=z.nextSibling,p=e.nextSibling,y=p.nextSibling,C=y.nextSibling,P=C.nextSibling,k=P.firstChild,M=k.nextSibling,c=M.nextSibling,f=c.nextSibling,U=f.nextSibling;return t(S,b+1),t(C,()=>K(s)),t(k,()=>s.bedrooms),t(c,()=>s.bathroomsTotal),t(P,()=>Intl.NumberFormat("en-US").format(s.sqft),U),H(o=>{var N=`${s.mlsNumber}:${s.latitude}:${s.longitude}`,G=`/thumbnail?url=${s.photoPrimaryUrl}`,O=`var(${x[i]})`,T=`var(${x[i]})`,V=`var(${x[i]})`,D=`var(${x[i]})`;return N!==o.e&&m(h,"key",o.e=N),G!==o.t&&m(r,"href",o.t=G),O!==o.a&&m(u,"fill",o.a=O),T!==o.o&&m(_,"fill",o.o=T),V!==o.i&&m(z,"fill",o.i=V),D!==o.n&&m(y,"fill",o.n=D),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),h})())),w})()};var oe=v('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512"><path fill=var(--theme-heading-color) d="M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z">');const ce=(l={})=>(()=>{var i=oe();return R(i,l,!0,!0),i})();var ge=v('<svg viewBox="0 0 512 512"><path fill=var(--theme-heading-color) d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">');const de=(l={})=>(()=>{var i=ge();return R(i,l,!0,!0),i})();var ve=v('<h4 class="center upper subheading-market-activity"style=margin-bottom:5px> '),he=v('<h1 class="center upper heading-market-activity"style=margin:0>Market Activity'),pe=v("<div>"),me=v('<div style=display:flex;flex-direction:row;justify-content:space-between;margin:0;font-size:85%;align-items:center;width:100%><span>View Option</span><span>Status</span><select style="padding:0.25rem 0.5rem"></select><span>Sort By</span><select style="padding:0.25rem 0.5rem"></select><span>'),I=v("<option style=text-transform:capitalize>"),xe=v('<div class=map-key style=position:absolute;z-index:700;top:65px><svg style=width:380px;height:270px><rect width=100% height=15% fill=var(--theme-body-background)></rect><rect width=100% height=80% fill=#000 fill-opacity=0.57 y=15%></rect><text x=20 y=27 style=font-size:150% fill=var(--theme-body-color) dominantBaseline=hanging></text><g style="transform:translate(20px, 70px)">'),ue=v('<svg><g><circle cx=20 cy=5 r=17></circle><text x=20 y=5 fill=var(--white) text-Anchor=middle dominant-Baseline=middle style="font-size:100%;text-Shadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></text><text x=50 y=7 fill=var(--white) dominant-Baseline=middle style="font-size:100%;font-weight:700;text-Shadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></svg>',!1,!0,!1);const _e=()=>{const l=Q(J),[i,L]=A("Most Recent"),[x,w]=A("List"),{currentPage:s,setPage:b,pageOffset:h,pageSize:r,setPageSize:u}=W({}),[n,S]=A(l.mode?l.mode.charAt(0).toUpperCase()+l.mode.slice(1):""),[_]=A(!1),$=X(Z.listings,g.propertyTypeID,g.areaPeriod,n(),i()),a=$&&$.slice(h,h+r),z=ee(`--${n().toLowerCase()}`,document.body).trim();return[(()=>{var e=ve(),p=e.firstChild;return t(e,()=>g.areaName,p),t(e,()=>g.propertyTypeID===0?"Homes":"Condos",null),e})(),he(),d(F,{get container(){return`MarketActivity-${l.areaid}`},style:""}),(()=>{var e=pe();return t(e,d(ye,{setStatus:S}),null),t(e,d(ie,{get mapStyle(){return l.mapstyle||"satellite-streets-v11"},zoomControl:!0,style:"width:100%;height:100%;",get children(){return[d(te,{get areaId(){return l.areaid},style:"color:#feff00;fill-opacity:0"}),B(()=>a&&a.map((p,y)=>d(le,{color:z,caption:h*r+y+1,key:y+h*r,get position(){return[p.latitude,p.longitude]}})))]}}),null),H(p=>E(e,`position:relative;width:100%;height:${_?"650px":"400px"}`,p)),e})(),B(()=>B(()=>!!(a&&a.length>0))()&&(()=>{var e=me(),p=e.firstChild,y=p.nextSibling,C=y.nextSibling,P=C.nextSibling,k=P.nextSibling,M=k.nextSibling;return t(e,d(de,{style:"width:20px;height:auto",onClick:()=>{u(10),w("List")}}),y),t(e,d(ce,{style:"width:20px;height:auto",onClick:()=>{u(8),w("Grid")}}),y),C.addEventListener("change",c=>{b(1),S(c.target.value)}),C.value=n,t(C,()=>["Pending","New","Active","Sold"].map(c=>(()=>{var f=I();return m(f,"key",c),t(f,c),f})())),k.addEventListener("change",c=>{b(1),L(c.target.value)}),k.value=i,t(k,()=>["Most Recent","Price High","Price Low","Days on Market"].map(c=>(()=>{var f=I();return m(f,"key",c),t(f,c),f})())),t(M,d(ae,{pageSize:r,get ffset(){return Math.max((s()-1)*r(),0)},get len(){return $.length},get mode(){return l.mode},period})),e})()),x==="List"&&d(Y,{mode:n,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),x==="Grid"&&d(se,{mode:n,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),d(q,{get totalItems(){return $?.length},get currentPage(){return s()},pageChange:e=>b(e),style:"align-self: flex-end"})]},ye=({setStatus:l})=>{console.log("areaDataStore.overall:",g?.overall?.new,g?.overall?.active,g?.overall?.pending);const i=[{total:g?.overall?.new,label:"New (active)",status:"new"},{total:g?.overall?.active,label:"Active",status:"active"},{total:g?.overall?.pending,label:"Pending",status:"pending"},{total:g.overall?.sold,label:"Sold",status:"sold"}];return(()=>{var L=xe(),x=L.firstChild,w=x.firstChild,s=w.nextSibling,b=s.nextSibling,h=b.nextSibling;return t(b,()=>g.areaName),t(h,()=>i.map((r,u)=>(console.log(`Label ${u}:`,r.total),(()=>{var n=ue(),S=n.firstChild,_=S.nextSibling,$=_.nextSibling;return n.$$click=a=>l(r.status),m(n,"key",u),t(_,()=>r.total),t($,()=>r.label),H(a=>{var z=`transform: translateY(${u*50}px)`,e=`var(--${r.status})`;return a.e=E(n,z,a.e),e!==a.t&&m(S,"fill",a.t=e),a},{e:void 0,t:void 0}),n})()))),L})()};j(["click"]);export{_e as default};
//# sourceMappingURL=MarketActivity.js.map
