import{i as e,b as a,F as O,s as L,e as k,f as q,m as P,S as A,t as b}from"./index.js";import{a as H,C as T,v as I,w as F,c as y,k as z,o as C,n as N}from"./index2.js";import{f as B,H as R,P as Z}from"./_LeadCtaTag.js";import{L as E}from"./ListingsShowing.js";import{G,C as U,L as V}from"./LeafletMap.js";var j=b('<div class=flex-row><div class=w-33></div><div class=w-66><div class=listDetail><table id=listing-table class=active-table style=" font-size:80%;"><thead><tr></tr></thead><tbody>'),J=b("<th>"),K=b("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>"),Q=b("<tr><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td>");const W=l=>{const d=H(T);let p;switch(d.marketstatus){case"sold":p=["Address","BR","BA","Sq.Ft.","List Price","Sold Price","Sold Date","$/Sq.Ft.","DOM"];break;case"active":default:p=["Address","List Price","BR","BA","List Date","Sq.Ft.","$/Sq.Ft.","DOM"];break}return(()=>{var g=j(),u=g.firstChild,w=u.nextSibling,m=w.firstChild,c=m.firstChild,v=c.firstChild,D=v.firstChild,x=v.nextSibling;return e(u,a(V,{get id(){return l.id||"genie-embed-map"},get mapStyle(){return d.mapstyle||"streets-v11"},style:"width: 100%; min-height: 370px",get children(){return[a(G,{get areaId(){return d.areaid},style:" color: #feff00; fill-opacity: 0"}),a(O,{get each(){return l.listings},children:(t,r)=>a(U,{get key(){return`${t.mlsNumber}:${t.latitude}:${t.longitude}`},get color(){return I(`--${d.marketstatus}`,document.body).trim()},caption:r+1,get position(){return[t.latitude,t.longitude]}})})]}})),e(D,()=>p.map((t,r)=>(()=>{var i=J();return L(i,"key",r),L(i,"title",t==="BR"?"Bedrooms":t==="BA"?"Bathrooms":""),e(i,t),k(s=>q(i,r===0?{textAlign:"left"}:null,s)),i})())),e(x,a(A,{get when(){return d.marketstatus==="sold"},get children(){return a(O,{get each(){return l.listings},children:t=>(()=>{var r=K(),i=r.firstChild,s=i.nextSibling,n=s.nextSibling,$=n.nextSibling,f=$.nextSibling,h=f.nextSibling,S=h.nextSibling,o=S.nextSibling,_=o.nextSibling;return e(i,()=>F(t)),e(s,()=>t.bedrooms),e(n,()=>t.bathroomsTotal),e($,()=>Intl.NumberFormat("en-US").format(t.sqft)),e(f,()=>y(t.priceHigh)),e(h,()=>y(t.salePrice)),e(S,(()=>{var M=P(()=>!!t.soldDate);return()=>M()&&B(Date.parse(t.soldDate),"M-d-y")})()),e(o,()=>y(t.salePrice/t.sqft)),e(_,()=>t.daysOnMarket==1?"Day":"Days"),k(()=>L(r,"key",`tr${t.streetNumber}:${t.latitude}:${t.longitude}`)),r})()})}}),null),e(x,a(A,{get when(){return d.marketstatus!=="sold"},get children(){return a(O,{get each(){return l.listings},children:t=>(()=>{var r=Q(),i=r.firstChild,s=i.nextSibling,n=s.nextSibling,$=n.nextSibling,f=$.nextSibling,h=f.nextSibling,S=h.nextSibling,o=S.nextSibling;return e(i,()=>F(t)),e(s,()=>y(t.priceHigh)),e(n,()=>t.bedrooms),e($,()=>t.bathroomsTotal),e(f,()=>B(Date.parse(t.listDate),"M-d-y")),e(h,(()=>{var _=P(()=>t.sqft>0);return()=>_()?Intl.NumberFormat("en-US").format(t.sqft):"-"})()),e(S,(()=>{var _=P(()=>t.sqft>0);return()=>_()?y(t.priceHigh/t.sqft):"-"})()),e(o,()=>t.daysOnMarket>0?t.daysOnMarket+" Days":"Today!"),k(()=>L(r,"key",`tr${t.streetNumber}:${t.latitude}:${t.longitude}`)),r})()})}}),null),k(t=>q(g,l.style,t)),g})()};var X=b("<div class=filter-pagination-wrap><p class=filterTxt style=font-size:13px;color:#fff;>"),Y=b('<div id=padded style="padding:0rem 0;width:100%"><h1>LIVE HOT LIST OF HOMES FOR SALE</h1><p class=current-date>- as of <span>');const nt=()=>{const{currentPage:l,setPage:d,pageOffset:p,pageSize:g}=z(),u=H(T),w=()=>C.listings.slice(p(),p()+g()),m=new Date,c="America/Los_Angeles";var v=m.toLocaleString("default",{day:"numeric",timeZone:c}),D=m.toLocaleString("default",{month:"long",timeZone:c}),x=m.toLocaleString("default",{year:"numeric",timeZone:c}),t=m.toLocaleString("default",{hour:"numeric",hour12:!1,timeZone:c}),r=m.toLocaleString("default",{minute:"2-digit",timeZone:c});r.length<2&&(r="0"+r);var i=t>11?"pm":"am",s=D+" "+v+", "+x+" @ "+t+":"+r+i;return(()=>{var n=Y(),$=n.firstChild,f=$.nextSibling,h=f.firstChild,S=h.nextSibling;return e(S,s),e(n,a(R,{get container(){return`ListingMapStyleOne-${u.marketstatus}-${u.areaid}`},get showPeriod(){return u.marketstatus==="sold"}}),null),e(n,a(A,{get when(){return C.listings.length>0},get children(){return[a(W,{id:"listing-map-style-one",get listings(){return w()},style:"margin-top: 30px"}),(()=>{var o=X(),_=o.firstChild;return e(_,a(E,{get pageSize(){return g()},get offset(){return Math.max((l()-1)*g(),0)},get len(){return C.listings.length},get mode(){return u.marketstatus??"active"},get period(){return N.areaPeriod}})),e(o,a(Z,{get totalItems(){return C.listings.length},get currentPage(){return l()},pageChange:M=>d(M)}),null),o})()]}}),null),n})()};export{nt as default};
//# sourceMappingURL=ListingMapStyleOne.js.map
