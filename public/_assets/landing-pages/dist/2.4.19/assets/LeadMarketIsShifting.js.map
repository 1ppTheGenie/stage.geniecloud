{"version":3,"file":"LeadMarketIsShifting.js","sources":["../../../../../../genie-components/src/embeds/LeadMarketIsShifting.jsx"],"sourcesContent":["import { useSettings, Context4Settings } from \"@/utilities\";\r\n\r\nexport default () => {\r\n\tconst settings = useSettings(Context4Settings);\r\n\tconst [isOpen, setIsOpen] = useState(false);\r\n\tconst [hasOpened, setHasOpened] = useState(false);\r\n\tconst [hasSent, setHasSent] = useState(false);\r\n\tconst [emailAddress, setEmailAddress] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!isOpen) {\r\n\t\t\tlet timer1 = setTimeout(() => {\r\n\t\t\t\tsetIsOpen(true);\r\n\t\t\t}, settings.popuptimeout ?? 15000);\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tclearTimeout(timer1);\r\n\t\t\t};\r\n\t\t}\r\n\t}, [isOpen, setIsOpen, settings.popuptimeout]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isOpen && !hasOpened) {\r\n\t\t\tsetHasOpened(true);\r\n\t\t}\r\n\t}, [isOpen, hasOpened, setHasOpened]);\r\n\r\n\tif (!isOpen) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div id=\"shadow-layer\">\r\n\t\t\t<div id=\"market-is-shifting\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{hasSent && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p>All set! Your report will be in your inbox shortly.</p>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclass=\"upper rounded\"\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetIsOpen(false);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{!hasSent && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div style=\"text-align: center\">\r\n\t\t\t\t\t\t\t\t<h1 class=\"upper center\">\r\n\t\t\t\t\t\t\t\t\t{settings.mstitle || `The market is shifting`}\r\n\t\t\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\t\t<h2 class=\"center\">\r\n\t\t\t\t\t\t\t\t\tSee the latest <span class=\"upper\">trends</span>\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<h3 class=\"upper center\" style=\"margin-bottom: 3rem\">\r\n\t\t\t\t\t\t\t\t\t{settings.mscta || `Get your market insider report`}\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\tclass=\"rounded\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Your email address\"\r\n\t\t\t\t\t\t\t\t\tonChange={e => setEmailAddress(e.target.value)}\r\n\t\t\t\t\t\t\t\t\tstyle=\"margin-right: 1rem\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclass=\"upper rounded\"\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\twindow.gHub.addLead(\"Market Shifting\", {\r\n\t\t\t\t\t\t\t\t\t\t\temail: emailAddress,\r\n\t\t\t\t\t\t\t\t\t\t\tfunnel_id: settings.collection_id,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tsetHasSent(true);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc=\"/_assets/_img/genie-market-report-book.png\"\r\n\t\t\t\t\t\t\t\talt=\"Laptop\"\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<div class=\"close\" onClick={e => setIsOpen(false)}>\r\n\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n"],"names":["LeadMarketIsShifting","settings","useSettings","Context4Settings","isOpen","setIsOpen","useState","hasOpened","setHasOpened","hasSent","setHasSent","emailAddress","setEmailAddress","useEffect","timer1","setTimeout","popuptimeout","clearTimeout","_el$","_tmpl$","_el$2","firstChild","_el$3","_$insert","_tmpl$2","_el$5","_tmpl$3","$$click","_el$6","_tmpl$4","_el$7","_el$8","nextSibling","_el$9","_el$0","_el$1","mstitle","mscta","addEventListener","e","target","value","gHub","addLead","email","funnel_id","collection_id","_tmpl$5","_el$11","_tmpl$6","_$delegateEvents"],"mappings":"ipBAEA,MAAAA,EAAe,IAAM,CACdC,MAAAA,EAAWC,EAAYC,CAAgB,EACvC,CAACC,EAAQC,CAAS,EAAIC,SAAS,EAAK,EACpC,CAACC,EAAWC,CAAY,EAAIF,SAAS,EAAK,EAC1C,CAACG,EAASC,CAAU,EAAIJ,SAAS,EAAK,EACtC,CAACK,EAAcC,CAAe,EAAIN,SAAS,EAAE,EAoBnD,OAlBAO,UAAU,IAAM,CACf,GAAI,CAACT,EAAQ,CACRU,IAAAA,EAASC,WAAW,IAAM,CAC7BV,EAAU,EAAI,CAAA,EACZJ,EAASe,cAAgB,IAAK,EAEjC,MAAO,IAAM,CACZC,aAAaH,CAAM,CAAA,CAErB,GACE,CAACV,EAAQC,EAAWJ,EAASe,YAAY,CAAC,EAE7CH,UAAU,IAAM,CACXT,GAAU,CAACG,GACdC,EAAa,EAAI,CAEhB,EAAA,CAACJ,EAAQG,EAAWC,CAAY,CAAC,EAE/BJ,GAIL,IAAA,CAAA,IAAAc,EAAAC,EAAA,EAAAC,EAAAF,EAAAG,WAAAC,EAAAF,EAAAC,WAAAE,OAAAA,EAAAD,EAIKb,IAAOe,EAAAA,GAAA,IAAA,CAAA,IAAAC,EAAAC,IAAAD,OAAAA,EAAAE,QAKI,IAAM,CACdtB,EAAU,EAAK,CAAA,EACfoB,CAAAA,GAIH,CAAA,EAAA,IAAA,EAAAF,EAAAD,EAEA,CAACb,GAAO,EAAA,IAAA,CAAA,IAAAmB,EAAAC,IAAAC,EAAAF,EAAAP,WAAAU,EAAAD,EAAAE,YAAAC,EAAAF,EAAAC,YAAAE,EAAAD,EAAAD,YAAAG,EAAAD,EAAAF,YAAAT,OAAAA,EAAAO,EAAA,IAIJ7B,EAASmC,SAAW,wBAAwB,EAAAb,EAAAU,EAAA,IAM5ChC,EAASoC,OAAS,gCAAgC,EAAAH,EAAAI,iBAMzCC,SAAAA,GAAK3B,EAAgB2B,EAAEC,OAAOC,KAAK,CAAC,EAAAN,EAAAR,QAKrC,IAAM,CACPe,OAAAA,KAAKC,QAAQ,kBAAmB,CACtCC,MAAOjC,EACPkC,UAAW5C,EAAS6C,aAAAA,CACpB,EACDpC,EAAW,EAAI,CAAA,EACfkB,CAAAA,KAAAmB,EAAA,GAAA,IAAA,CAAA,IAAAC,EAAAC,IAAAtB,OAAAA,EAAAA,QAS8BtB,GAAAA,EAAU,EAAK,EAAC2C,CAAAA,GAIlD,CAAA,EAAA,IAAA,EAAA9B,CAAAA,KA5DG,IAiET,EAAEgC,EAAA,CAAA,OAAA,CAAA"}