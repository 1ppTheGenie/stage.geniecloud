import{i as t,e as H,s as h,t as g,y as D,c as A,b as d,g as B,f as E,d as j}from"./index.js";import{H as F,b as Y,P as q}from"./_LeadCtaTag.js";import{t as K,a as Q,C as J,i as W,o as X,k as y,m as Z,r as ee}from"./index2.js";import{G as te,L as ie,C as le}from"./LeafletMap.js";import{L as ae}from"./ListingsShowing.js";var re=g("<div id=listing-grid-view>"),ne=g(`<svg viewBox="0 0 1500 800"><image width=100% height=100% preserveAspectRatio="xMinYMid slice"></image><circle cx=5% cy=5% r=5% fillOpacity=0.75></circle><text font-size=120%><tspan x=5% y=4% textAnchor=middle fill=var(--theme-body-background)></tspan></text><polygon points="275,0 424,0 0,425 0,275"fillOpacity=0.75></polygon><text x=5% y=5% transform-origin="4% 4%"transform=rotate(-45) fill=var(--theme-body-background) textAnchor=middle>New! || Active || Sold || Pending</text><clipPath id=polyClip1 clipPathUnits=objectBoundingBox><path d="m 0 0 h 1 v 1 h -0.7 c -0.3 0 -0.3 0 -0.3 -1"></path></clipPath><rect x=50% width=40% height=30% clip-path=url(#polyClip1) fillOpacity=0.75></rect><text class=align-right x=22% y=1% fill=var(--theme-body-background)>Asking</text><text class=align-right x=22% y=4% fill=var(--theme-body-background)>format-number(@listPrice, '$###,###')"</text><rect y=85% height=15% width=100% fillOpacity=0.75></rect><text x=11.25% y=23.75% fill=var(--theme-body-background) textAnchor=middle></text><text x=11.25% y=26.75% fill=var(--theme-body-background) textAnchor=middle><tspan></tspan><tspan>BR | </tspan><tspan></tspan><tspan>BA | </tspan><tspan>SQFT`);const se=({listings:l,mode:i,style:L})=>{i=i.toLowerCase();const p={active:"--active-green",new:"--new-blue",pending:"--pending-yellow",sold:"--sold-red"};return(()=>{var _=re();return t(_,()=>l.map((n,b)=>(()=>{var v=ne(),s=v.firstChild,f=s.nextSibling,r=f.nextSibling,S=r.firstChild,w=r.nextSibling,$=w.nextSibling,a=$.nextSibling,z=a.nextSibling,e=z.nextSibling,m=e.nextSibling,x=m.nextSibling,C=x.nextSibling,P=C.nextSibling,k=P.firstChild,M=k.nextSibling,c=M.nextSibling,u=c.nextSibling,U=u.nextSibling;return t(S,b+1),t(C,()=>K(n)),t(k,()=>n.bedrooms),t(c,()=>n.bathroomsTotal),t(P,()=>Intl.NumberFormat("en-US").format(n.sqft),U),H(o=>{var N=`${n.mlsNumber}:${n.latitude}:${n.longitude}`,O=`/thumbnail?url=${n.photoPrimaryUrl}`,G=`var(${p[i]})`,T=`var(${p[i]})`,V=`var(${p[i]})`,I=`var(${p[i]})`;return N!==o.e&&h(v,"key",o.e=N),O!==o.t&&h(s,"href",o.t=O),G!==o.a&&h(f,"fill",o.a=G),T!==o.o&&h(w,"fill",o.o=T),V!==o.i&&h(z,"fill",o.i=V),I!==o.n&&h(x,"fill",o.n=I),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v})())),_})()};var oe=g('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 448 512"><path fill=var(--theme-heading-color) d="M96 288H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zM96 96H32c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32zm160 0h-64c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32v-64c0-17.67-14.33-32-32-32z">');const ce=(l={})=>(()=>{var i=oe();return D(i,l,!0,!0),i})();var de=g('<svg viewBox="0 0 512 512"><path fill=var(--theme-heading-color) d="M48 48a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm0 160a48 48 0 1 0 48 48 48 48 0 0 0-48-48zm448 16H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z">');const ge=(l={})=>(()=>{var i=de();return D(i,l,!0,!0),i})();var ve=g('<h4 class="center upper"style=margin-bottom:0.5rem> '),me=g('<h1 class="center upper"style="margin:0.5rem 0">Market Activity'),he=g("<div>"),pe=g('<div style=display:flex;flex-direction:row;justify-content:space-between;margin:0;font-size:85%;align-items:center;width:100%><span>View Option</span><span>Status</span><select style="padding:0.25rem 0.5rem"></select><span>Sort By</span><select style="padding:0.25rem 0.5rem"></select><span>'),R=g("<option style=text-transform:capitalize>"),xe=g('<div class=map-key style=position:absolute;z-index:700;top:65px><svg style=width:250px;height:270px><rect width=100% height=15% fill=var(--theme-body-background)></rect><rect width=100% height=80% fill=#000 fillOpacity=0.4 y=15%></rect><text x=20 y=10 style=font-size:150% fill=var(--theme-body-color) dominantBaseline=hanging></text><g style="transform:translate(20px, 70px)">'),ue=g('<svg><g><circle cx=20 cy=5 r=20></circle><text x=20 y=7 fill=var(--theme-body-background) textAnchor=middle dominantBaseline=middle style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></text><text x=50 y=7 fill=var(--theme-body-background) dominantBaseline=middle style="font-size:120%;textShadow:4px 4px 5px rgba(44, 44, 44, 0.5)"></svg>',!1,!0);const we=()=>{const l=Q(J),[i,L]=A("Most Recent"),[p,_]=A("List"),{currentPage:n,setPage:b,pageOffset:v,pageSize:s,setPageSize:f}=W({}),[r,S]=A(l.mode?l.mode.charAt(0).toUpperCase()+l.mode.slice(1):""),[w]=A(!1),$=X(Z.listings,y.propertyTypeID,y.areaPeriod,r(),i()),a=$&&$.slice(v,v+s),z=ee(`--${r().toLowerCase()}`,document.body).trim();return[(()=>{var e=ve(),m=e.firstChild;return t(e,()=>y.areaName,m),t(e,()=>y.propertyTypeID===0?"Homes":"Condos",null),e})(),me(),d(F,{get container(){return`MarketActivity-${l.areaid}`},style:"margin:0.5rem"}),(()=>{var e=he();return t(e,d(ye,{setStatus:S}),null),t(e,d(ie,{get mapStyle(){return l.mapstyle||"satellite-streets-v11"},zoomControl:!0,style:"width:100%;height:100%;",get children(){return[d(te,{get areaId(){return l.areaid},style:"color:#feff00;fill-opacity:0"}),B(()=>a&&a.map((m,x)=>d(le,{color:z,caption:v*s+x+1,key:x+v*s,get position(){return[m.latitude,m.longitude]}})))]}}),null),H(m=>E(e,`position:relative;width:100%;height:${w?"650px":"400px"}`,m)),e})(),B(()=>B(()=>!!(a&&a.length>0))()&&(()=>{var e=pe(),m=e.firstChild,x=m.nextSibling,C=x.nextSibling,P=C.nextSibling,k=P.nextSibling,M=k.nextSibling;return t(e,d(ge,{style:"width:20px;height:auto",onClick:()=>{f(10),_("List")}}),x),t(e,d(ce,{style:"width:20px;height:auto",onClick:()=>{f(8),_("Grid")}}),x),C.addEventListener("change",c=>{b(1),S(c.target.value)}),C.value=r,t(C,()=>["Pending","New","Active","Sold"].map(c=>(()=>{var u=R();return h(u,"key",c),t(u,c),u})())),k.addEventListener("change",c=>{b(1),L(c.target.value)}),k.value=i,t(k,()=>["Most Recent","Price High","Price Low","Days on Market"].map(c=>(()=>{var u=R();return h(u,"key",c),t(u,c),u})())),t(M,d(ae,{pageSize:s,get ffset(){return Math.max((n()-1)*s(),0)},get len(){return $.length},get mode(){return l.mode},period})),e})()),p==="List"&&d(Y,{mode:r,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),p==="Grid"&&d(se,{mode:r,listings:a,style:"width: 100%; color: var(--theme-body-color)"}),d(q,{get totalItems(){return $?.length},get currentPage(){return n()},pageChange:e=>b(e),style:"align-self: flex-end"})]},ye=({setStatus:l})=>{const i=[{total:y?.overall?.new,label:"New (active)",status:"new"},{total:y?.overall?.active,label:"Active",status:"active"},{total:y?.overall?.pending,label:"Pending",status:"pending"},{total:y.overall?.sold,label:"Sold",status:"sold"}];return(()=>{var L=xe(),p=L.firstChild,_=p.firstChild,n=_.nextSibling,b=n.nextSibling,v=b.nextSibling;return t(b,()=>y.areaName),t(v,()=>i.map((s,f)=>(()=>{var r=ue(),S=r.firstChild,w=S.nextSibling,$=w.nextSibling;return r.$$click=a=>l(s.status),h(r,"key",f),t(w,()=>s.total),t($,()=>s.label),H(a=>{var z=`transform: translateY(${f*50}px)`,e=`var(--${s.status})`;return a.e=E(r,z,a.e),e!==a.t&&h(S,"fill",a.t=e),a},{e:void 0,t:void 0}),r})())),L})()};j(["click"]);export{we as default};
//# sourceMappingURL=MarketActivity.js.map
