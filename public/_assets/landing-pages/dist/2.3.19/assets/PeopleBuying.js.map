{"version":3,"file":"PeopleBuying.js","sources":["../../../../../../genie-components/src/embeds/PeopleBuying.jsx"],"sourcesContent":["import { Index } from \"solid-js\";\r\nimport { areaDataStore, propertyTypeCaption, currency } from \"@/utilities\";\r\nimport { HomeTypes, Editable, Spinner } from \"@/components\";\r\n\r\nimport \"@/assets/css/people-buying.css\";\r\n\r\nvar link = document.createElement(\"link\");\r\nlink.rel = \"stylesheet\";\r\nlink.type = \"text/css\";\r\nlink.href = \"https://cdn.rawgit.com/tiaanduplessis/wenk/master/dist/wenk.css\";\r\ndocument.head.appendChild(link);\r\n\r\nexport default () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Editable id=\"people-buying-heading\">\r\n\t\t\t\t<h1>Look at What People are&#160;Buying</h1>\r\n\t\t\t</Editable>\r\n\r\n\t\t\t<p style=\"margin: 0 2rem\" class=\"subtitle-font\">\r\n\t\t\t\t{`${areaDataStore.areaName} has seen a lot of movement of \\n`}\r\n\t\t\t\t<br />\r\n\t\t\t\t{`${\r\n\t\t\t\t\tareaDataStore.topSize.beds > 0\r\n\t\t\t\t\t\t? areaDataStore.topSize.beds + \" bedroom\"\r\n\t\t\t\t\t\t: \"studio\"\r\n\t\t\t\t}  ${propertyTypeCaption()} in the past ${\r\n\t\t\t\t\tareaDataStore.areaPeriod\r\n\t\t\t\t} months.`}\r\n\t\t\t</p>\r\n\r\n\t\t\t<HomeTypes container={`PeopleBuying-${areaDataStore.areaid}`} />\r\n\r\n\t\t\t{!areaDataStore.bedroomStats && <p>Sorry, there is no data for this period.</p>}\r\n\r\n\t\t\t<div id=\"colors\" class=\"horizontal-bars\">\r\n\t\t\t\t<Index each={areaDataStore.bedroomStats}>\r\n\t\t\t\t\t{(size, i) => {\r\n\t\t\t\t\t\t// Only bedroom counts up to 5?\r\n\t\t\t\t\t\tif (i > 5) return null;\r\n\r\n\t\t\t\t\t\t// Don't show Studio if none sold\r\n\t\t\t\t\t\tif (size().beds === 0 && size().sold === 0) return null;\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<span class=\"graph-number\">\r\n\t\t\t\t\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds < 1}>Studio</Match>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds > 0 && size().beds < 5}>{`${\r\n\t\t\t\t\t\t\t\t\t\t\tsize().beds\r\n\t\t\t\t\t\t\t\t\t\t} br`}</Match>\r\n\t\t\t\t\t\t\t\t\t\t<Match when={size().beds === 5}>5+ br</Match>\r\n\t\t\t\t\t\t\t\t\t</Switch>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t{size().sold === 0 && <span>None sold</span>}\r\n\t\t\t\t\t\t\t\t\t{size().sold > 0 && (\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={`cursor:pointer; font-weight:bold;--size:${\r\n\t\t\t\t\t\t\t\t\t\t\t\t((!areaDataStore.loading ? size().sold : 0) /\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tareaDataStore.topSize.sold) *\r\n\t\t\t\t\t\t\t\t\t\t\t\t100\r\n\t\t\t\t\t\t\t\t\t\t\t}%;textTransform:capitalize;color:#fff;`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-wenk={`Avg: ${currency(size().avgSalePrice)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-wenk-pos=\"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{!areaDataStore.loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${size().sold} ${propertyTypeCaption(size().sold == 1)} sold`\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"margin: 0; width: 16px; transform: scale(2.5)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"var(--theme-body-color)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t</Index>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n"],"names":["link","document","createElement","rel","type","href","head","appendChild","PeopleBuying","_$createComponent","Editable","id","children","_tmpl$","_el$2","_tmpl$2","_el$3","firstChild","_$insert","areaDataStore","areaName","topSize","beds","propertyTypeCaption","areaPeriod","HomeTypes","container","areaid","_$memo","bedroomStats","_tmpl$4","_el$4","_tmpl$3","Index","each","size","i","sold","_el$6","_tmpl$5","_el$7","_el$8","nextSibling","_$Switch","_$Match","when","_c$","_tmpl$6","_c$2","_el$10","_tmpl$7","_el$11","_c$3","loading","Spinner","style","fill","_$effect","_p$","_v$","_v$2","currency","avgSalePrice","e","_$style","t","_$setAttribute","undefined"],"mappings":"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"}